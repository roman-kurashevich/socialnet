{"version":3,"sources":["redux/dialogsReducer.js","components/Navbar/Navbar.module.css","assets/images/defaultAvatar.png","api/api.js","components/common/FormsControls/FormsControls.jsx","reportWebVitals.js","redux/sidebarReducer.js","utils/object-helpers.js","redux/usersReducer.js","redux/authReducer.js","redux/appReducer.js","redux/reduxStore.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","redux/usersSelector.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","hoc/withSuspense.js","App.js","index.js","assets/images/loading.gif","components/common/Preloader/Preloader.js","utils/validators/validators.js","components/common/FormsControls/FormsControl.module.css","components/Users/Users.module.css","components/common/Paginator/Paginator.module.css","App.module.css","components/Header/Header.module.css","redux/profileReducer.js","hoc/withAuthRedirect.js"],"names":["SEND_MESSAGE","initialState","dialogsData","id","name","avatarSrc","messagesData","author","likesCount","message","sendMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","module","exports","instance","axios","create","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","delete","follow","post","getProfile","console","log","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","FormControl","input","meta","children","hasError","touched","error","className","styles","formControl","Textarea","props","restProps","Input","createField","placeholder","validators","component","text","validate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","friendsData","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","SET_PORTION_OF_PAGES_NUMBER","users","totalUsersCount","isFetching","followingProgress","portionOfPagesNumber","fake","followSucces","userId","unfollowSucces","setCurrentPage","setIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","portionNumber","filter","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","isAuth","captchaUrl","setUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","sideBar","usersPage","auth","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Navbar","s","nav","item","to","link","activeClassName","active","itemFriends","News","Music","Settings","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getPortionOfPagesNumber","getIsFetching","getFollowingProgress","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","portionSize","useState","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","pagesNumbers","selectedPage","onPageChanged","setPortionOfPagesNumber","User","user","src","photos","small","userPhoto","disabled","some","Users","UsersContainer","pageNumber","requestUsers","this","usersContainer","Preloader","React","Component","connect","totalCount","bind","withAuthRedirect","Header","header","loginBlock","HeaderContainer","maxLength30","maxLengthCreator","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","style","formSummaryError","messages","length","stopSubmit","_error","errorMessage","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","DialogsContainerWithSusoense","App","initializedApp","app_wrapper","app_wrapper_content","path","render","AppContainer","withRouter","propmise","Promise","all","SamuraiJSApp","getState","ReactDOM","document","getElementById","backgroundColor","preloader","value","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","postsData","likes","addPostActionCreator","newPostText","setStatus","getUserProfile","file","reject","postId","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.adea0813.chunk.js","sourcesContent":["const SEND_MESSAGE = 'dialogsReducer/SEND-MESSAGE';\n\nlet initialState = {\n  dialogsData: [\n    {id: 1, name: 'Jordan', avatarSrc: 'https://biografii.net/wp-content/uploads/2018/09/2YF1WyzQjyLS_maikl-dzhordan.jpg'},\n    {id: 2, name: 'Cury', avatarSrc: 'https://www.gannett-cdn.com/-mm-/3cc04d2ef14fa91700469abb79ac5856f7d99ffa/c=0-119-2025-1263/local/-/media/2016/03/14/USATODAY/USATODAY/635935568094311208-USATSI-8611213.jpg?width=660&height=373&fit=crop&format=pjpg&auto=webp'},\n    {id: 3, name: 'Chester', avatarSrc: 'https://www.vokrug.tv/pic/person/d/3/0/1/d301933ae0b63ca71848e5025b6be224.jpg'},\n    {id: 4, name: 'Moby', avatarSrc: 'https://img.discogs.com/h2gOyyLcsRAUu06CGpU4zHWL_nI=/fit-in/300x300/filters:strip_icc():format(jpeg):mode_rgb():quality(40)/discogs-images/A-1031-1500201712-1208.jpeg.jpg'},\n    {id: 5, name: 'Fred', avatarSrc: 'https://pbs.twimg.com/profile_images/1271530504827875331/3Ka8BTK6.jpg'},\n  ],\n  messagesData: [\n    {id: 1, author: \"me\", likesCount: 5, message: 'Hi'},\n    {id: 2, author: \"friend\", likesCount: 12, message: 'Hello'},\n    {id: 3, author: \"me\", likesCount: 4, message: 'Whatsup?'},\n    {id: 4, author: \"friend\", likesCount: 41, message: 'Fine'},\n    {id: 5, author: \"me\", likesCount: 0, message: 'Ok'},\n  ],\n}\n\nconst dialogsReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n   \n    case SEND_MESSAGE: \n\n      return {\n        ...state,\n        messagesData: [...state.messagesData, {\n          id: 5,\n          author: 'me',\n          likesCount: 0,\n          message: action.newMessageBody\n        }]\n      }\n     \n    default:\n      return state;\n  }\n}\n\nexport const sendMessageActionCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\n\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"itemFriends\":\"Navbar_itemFriends__10Dxv\",\"link\":\"Navbar_link__TNvz9\",\"active\":\"Navbar_active__3mbhk\"};","export default __webpack_public_path__ + \"static/media/defaultAvatar.a6143582.png\";","import axios from \"axios\";\n\nconst instance = axios.create({\n\n  withCredentials: true,\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  headers: {\n    \"API-KEY\": \"78db3ef8-b9d0-41d5-9ed1-ce31346be1e0\"\n  }\n})\n\nexport const userAPI = {\n\n  getUsers(currentPage = 1,pageSize = 10) {\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n    .then(response => response.data)\n  },\n\n\n  unfollow(id) {\n    return instance.delete(`follow/${id}`)\n  },\n\n  follow(id) {\n    return instance.post(`follow/${id}`)\n  },\n\n  getProfile(id) {\n    console.log('Please profileAPI')\n    return profileAPI.getProfile(id)\n  }\n\n}\n\nexport const profileAPI = {\n  getProfile(id) {\n    return instance.get(`profile/${id}`)\n    .then(response => response.data)\n  },\n  getStatus(id) {\n    return instance.get(`profile/status/${id}`)\n  },\n  updateStatus(status) {\n    return instance.put(`profile/status`, {status: status})\n  },\n  savePhoto(photoFile) {\n    const formData = new FormData();\n    formData.append(\"image\", photoFile)\n    return instance.put('profile/photo', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  },\n  saveProfile(profile) {\n    return instance.put('profile', profile)\n  },\n}\n\nexport const authAPI = {\n  \n  me() {\n    return instance.get('auth/me')\n    .then(response => response.data)\n  },\n  login(email, password, rememberMe = false, captcha = null) {\n    return instance.post('auth/login', {\n      email,\n      password,\n      rememberMe,\n      captcha\n    })\n  },\n  logout() {\n    return instance.delete('auth/login')\n  },\n\n}\n\nexport const securityAPI = {\n  getCaptchaUrl() {\n    return instance.get('security/get-captcha-url');\n  }\n}\n","import React from \"react\";\nimport { Field } from \"redux-form\";\nimport styles from './FormsControl.module.css'\n\n\nconst FormControl = ({input, meta, children, ...props}) => {\n  \n  const hasError = meta.touched && meta.error;\n\n  return (\n    <div className={styles.formControl + ' ' + (hasError ? styles.error : \"\")}>\n      <div>\n        {children}\n      </div>\n      {hasError && <span>{meta.error}</span>} \n    </div>\n  )\n}\n\nexport const Textarea = (props) => {\n  const {input, meta, children, ...restProps} = props;\n  return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\n}\n\nexport const Input = (props) => {\n  const {input, meta, children, ...restProps} = props;\n  return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\n}\n\n// export const Textarea = (props) => {\n//   return <FormControl {...props} Formtype=\"textarea\"></FormControl>\n// }\n\n// export const Input = (props) => {\n//   return <FormControl {...props} Formtype=\"input\"></FormControl>\n// }\n\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => {\n  return (\n    <div>\n      <Field placeholder={placeholder} \n              name={name}\n              component={component} \n              validate={validators}\n              {...props}\n      />{text}\n    </div>\n  )\n} ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","let initialState = {\n  friendsData: [\n    {id: 1, name: 'Jordan', avatarSrc: 'https://biografii.net/wp-content/uploads/2018/09/2YF1WyzQjyLS_maikl-dzhordan.jpg'},\n    {id: 2, name: 'Cury', avatarSrc: 'https://www.gannett-cdn.com/-mm-/3cc04d2ef14fa91700469abb79ac5856f7d99ffa/c=0-119-2025-1263/local/-/media/2016/03/14/USATODAY/USATODAY/635935568094311208-USATSI-8611213.jpg?width=660&height=373&fit=crop&format=pjpg&auto=webp'},\n    {id: 3, name: 'Chester', avatarSrc: 'https://www.vokrug.tv/pic/person/d/3/0/1/d301933ae0b63ca71848e5025b6be224.jpg'},\n  ]\n}\n\nconst sidebarReducer = (state = initialState, action) => {\n  \n  return state;\n}\n\nexport default sidebarReducer;","export let updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n  return items.map((u) => {\n    if (u[objPropName] === itemId) {\n      return {...u, ...newObjProps}\n    }\n    return u;\n  })\n}","import { userAPI } from \"../api/api\";\nimport { updateObjectInArray } from '../utils/object-helpers'\n\nconst FOLLOW = 'usersReducer/FOLLOW';\nconst UNFOLLOW = 'usersReducer/UNFOLLOW';\nconst SET_USERS = 'usersReducer/SET_USERS';\nconst SET_CURRENT_PAGE = 'usersReducer/SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'usersReducer/SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'usersReducer/TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'usersReducer/TOGGLE_IS_FOLLOWING_PROGRESS';\nconst SET_PORTION_OF_PAGES_NUMBER = 'usersReducer/SET_PORTION_OF_PAGES_NUMBER';\n\nlet initialState = {\n  users: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 3,\n  isFetching: true,\n  followingProgress: [],\n  portionOfPagesNumber: 1,\n  fake: 10\n}\n\nconst usersReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\n        // users: state.users.map((u) => {\n        //   if(u.id === action.userId) {\n        //     return {...u, followed: true}\n        //   }\n        //   return u;\n        // })\n      }\n\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\n        // users: state.users.map((u) => {\n        //   if(u.id === action.userId) {\n        //     return {...u, followed: false}\n        //   }\n        //   return u;\n        // })\n      }\n\n    case SET_USERS:\n      return {...state,users: [...action.users]}\n\n    case SET_CURRENT_PAGE:\n      return {...state, currentPage: action.currentPage}\n\n    case SET_PORTION_OF_PAGES_NUMBER:\n      return {...state, portionOfPagesNumber: action.portionNumber}\n\n    case SET_TOTAL_USERS_COUNT:\n      return {...state, totalUsersCount: action.totalUsersCount}\n\n    case TOGGLE_IS_FETCHING:\n      return {...state, isFetching: action.isFetching}\n\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return {\n        ...state, \n        followingProgress: action.isFetching \n        ? [...state.followingProgress, action.userId]\n        : state.followingProgress.filter(id => id != action.userId)\n      }\n\n    default: \n      return state;\n  }\n \n}\n\nexport const followSucces = (userId) => ({type: FOLLOW, userId})\nexport const unfollowSucces = (userId) => ({type: UNFOLLOW, userId})\nexport const setUsers = (users) => ({type: SET_USERS, users})\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setPortionOfPagesNumber = (portionNumber) => ({type: SET_PORTION_OF_PAGES_NUMBER, portionNumber})\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount})\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\n\nexport const requestUsers = (currentPage, pageSize) => {\n  return async (dispatch) => {\n    dispatch(setIsFetching(true));\n    let data = await userAPI.getUsers(currentPage, pageSize)\n    dispatch(setIsFetching(false));\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n    dispatch(setCurrentPage(currentPage)); // ?\n  }\n}\n\nconst followUnfollowFlow = async(dispatch, userId, apiMethod, actionCreator) => {\n  dispatch(toggleFollowingProgress(true, userId)) // дисэйблим кнопку\n\n  let response = await apiMethod(userId)\n\n  if (response.data.resultCode === 0) {\n    dispatch(actionCreator(userId))\n  }\n\n  dispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const unfollow = (userId) => {\n  return async (dispatch) => {\n    followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSucces)\n  }\n}\n\nexport const follow = (userId) => {\n  return async (dispatch) => {\n    followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSucces)\n  }\n}\n\n\n\n\n\nexport default usersReducer;","import { stopSubmit } from 'redux-form';\nimport { authAPI, securityAPI } from '../api/api'\n\nconst SET_USER_DATA = 'authReducer/SET_USER_DATA';\nconst TOGGLE_IS_FETCHING = 'authReducer/TOGGLE_IS_FETCHING';\nconst GET_CAPTCHA_URL_SUCCESS = 'authReducer/GET_CAPTCHA_URL_SUCCESS';\n// const SET_ERROR_MESSAGE = 'authReducer/SET_ERROR_MESSAGE';\n\nlet initialState = {\n  id: null,\n  email: null,\n  login: null,\n  isFetching: false,\n  isAuth: false,\n  captchaUrl: null,\n  // errorMessage: null\n  // profile: null\n}\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n\n    case GET_CAPTCHA_URL_SUCCESS:\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.payload,\n        // isAuth: true,\n      }\n\n    // case SET_ERROR_MESSAGE:\n    //   return {\n    //     ...state,\n    //     errorMessage: action.errorMessage,\n    //     // isAuth: true,\n    //   }\n      \n    default: \n      return state;\n  }\n}\n\nexport const setUserData = (id, email, login, isAuth) => ({type: SET_USER_DATA, payload: {id, email, login, isAuth}});\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}});\n// export const setErrorMessage = (errorMessage) => ({type: SET_ERROR_MESSAGE, errorMessage})\n\nexport const getAuthUserData = () => {\n   return async (dispatch) => {\n    let data = await authAPI.me()\n      \n    if (data.resultCode === 0) {\n      dispatch(setUserData(data.data.id, data.data.email, data.data.login, true))\n    }\n  }\n}\nexport const login = (email, password, rememberMe, captcha) => {\n  return async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe, captcha)\n    // if(response.data.resultCode === 1) {\n    //   dispatch(setErrorMessage(response.data.messages[0]))\n    // }\n    if(response.data.resultCode === 0) {\n      // dispatch(setErrorMessage(null))\n      dispatch(getAuthUserData())\n    } else {\n      if(response.data.resultCode === 10) {\n        debugger\n        dispatch(getCaptchaUrl())\n      }\n\n      let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n      dispatch(stopSubmit(\"login\", {_error: message}));\n      \n    } \n  }\n}\nexport const logout = () => {\n  return async (dispatch) => {\n    let response = await authAPI.logout()\n    if(response.data.resultCode === 0) {\n      dispatch(setUserData(null, null, null, false))\n    }\n  }\n}\n\nexport const getCaptchaUrl = () => {\n  return async (dispatch) => {\n    const response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url;\n    debugger\n\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\n  }\n}\n\n\nexport default authReducer;","import { getAuthUserData } from './authReducer';\n\nconst INITIALIZED_SUCCESS = 'appReducer/INITIALIZED_SUCCESS';\n\nlet initialState = {\n  initialized: false,\n}\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      }\n      \n    default: \n      return state;\n  }\n}\n\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\n\nexport const initializedApp = () => {\n  return (dispatch) => {\n    let propmise = dispatch(getAuthUserData());\n    // let promise2 = dispatch(somethingElse())\n    // let promise3 = dispatch(somethingElse())\n    Promise.all([propmise])\n    .then(() => {\n      dispatch(initializedSuccess())\n    });\n  }\n}\n\nexport default appReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\nimport dialogsReducer from \"./dialogsReducer\";\nimport profileReducer from \"./profileReducer\";\nimport sidebarReducer from \"./sidebarReducer\";\nimport usersReducer from \"./usersReducer\";\nimport authReducer from \"./authReducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from \"./appReducer\";\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  messagesPage: dialogsReducer,\n  sideBar: sidebarReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  app: appReducer,\n  form: formReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\nwindow.__store__ = store;\n\nexport default store;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n// import FriendsTop from \"./FriendsTop/FriendsTop\";\nimport s from './Navbar.module.css';\n\nconst Navbar = () => {\n  return (\n    <nav className={s.nav}> \n      <div className={`${s.item}`}>\n        <NavLink to=\"/profile\" className={s.link} activeClassName={s.active}>Profile</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/dialogs\" className={s.link} activeClassName={s.active}>Messages</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/news\" className={s.link} activeClassName={s.active}>News</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/music\" className={s.link} activeClassName={s.active}>Music</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/settings\" className={s.link} activeClassName={s.active}>Settings</NavLink>\n      </div>\n      <div className={s.item + ' ' + s.itemFriends}>\n        <NavLink to=\"/friends\" className={s.link} activeClassName={s.active}>Friends</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/users\" className={s.link} activeClassName={s.active}>Users</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/login\" className={s.link} activeClassName={s.active}>Login</NavLink>\n      </div>\n      {/* <FriendsTop \n        // store={props.store}\n        friendsData={store.getState().sideBar.friendsData}\n      /> */}\n    </nav>\n  )\n}\n\nexport default Navbar;","import React from \"react\";\nimport s from './News.module.css'\n\nconst News = (props) => {\n  return (\n    <div>\n      News\n    </div>\n  )\n}\n\nexport default News","import React from \"react\";\nimport s from './Music.module.css'\n\nconst Music = (props) => {\n  return (\n    <div>\n      Music\n    </div>\n  )\n}\n\nexport default Music","import React from \"react\";\nimport s from './Settings.module.css'\n\nconst Settings = (props) => {\n  return (\n    <div>\n      Settings\n    </div>\n  )\n}\n\nexport default Settings","import { createSelector } from \"reselect\"\n\n// export const getUsers = (state) => {\n//   return state.usersPage.users.filter(u => true);\n// }\n\n//выше getUsers для демонстрации перересовки всего при каждом изменении в стейте\n\nexport const getUsersSelector = (state) => {\n  return state.usersPage.users;\n}\n\nexport const getUsers = createSelector(getUsersSelector, (users) => {\n  return users.filter(u => true)\n})\n\nexport const getPageSize = (state) => {\n  return state.usersPage.pageSize\n}\nexport const getTotalUsersCount = (state) => {\n  return state.usersPage.totalUsersCount\n}\nexport const getCurrentPage = (state) => {\n  return state.usersPage.currentPage\n}\nexport const getPortionOfPagesNumber = (state) => {\n  return state.usersPage.portionOfPagesNumber\n}\nexport const getIsFetching = (state) => {\n  return state.usersPage.isFetching\n}\nexport const getFollowingProgress = (state) => {\n  return state.usersPage.followingProgress\n}","import React from \"react\";\nimport { useState } from \"react\";\nimport styles from './Paginator.module.css';\n\nlet Paginator = (props) => {\n  let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i)\n  }\n\n  let portionCount = Math.ceil(pagesCount / props.portionSize);\n  let [portionNumber, setPortionNumber] = useState(props.portionOfPagesNumber);\n  let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\n  let rightPortionPageNumber = portionNumber * props.portionSize;\n\n  let onPageChanged = (p) => {\n    props.onPageChanged(p)\n    props.setPortionOfPagesNumber(portionNumber)\n  }\n\n  return (  \n    <div className={styles.paginator}>\n      { portionNumber > 1 &&\n       <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>}\n      \n      {pages.filter(p => p >= leftPortionPageNumber && p<= rightPortionPageNumber).map(p => <span \n      className={`${styles.pagesNumbers} ${props.currentPage === p && styles.selectedPage}`}\n      key={p}\n      onClick={() => onPageChanged(p)}>\n        {p}\n      </span>)}\n      { portionCount > portionNumber &&\n       <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>}\n\n    </div>  \n  )\n}\n\n\nexport default Paginator;","import React from \"react\";\nimport styles from './Users.module.css';\nimport userPhoto from '../../../src/assets/images/defaultAvatar.png';\nimport { NavLink } from \"react-router-dom\";\n\nlet User = ({user, followingProgress, unfollow, follow}) => {\n\n  return (\n    <div>\n      <span>\n        <div>\n          <NavLink to={`/profile/${user.id}`}>\n            <img src={user.photos.small !== null ? user.photos.small : userPhoto} className={styles.userPhoto}/>\n          </NavLink>\n        </div>\n        <div>\n          {user.followed \n            ? <button \n              disabled={followingProgress.some(id => id === user.id)}\n              onClick={ () => {\n                unfollow(user.id)\n            } }>Unfollow</button> \n            : <button \n              disabled={followingProgress.some(id => id === user.id)}\n              onClick={ () => {\n                follow(user.id)\n              } }>Follow</button>}\n        </div>\n      </span>\n      <span>\n        <span>\n          <div>{user.name}</div>\n          <div>{user.status}</div>\n        </span>\n        <span>\n          <div>{\"user.location.country\"}</div>\n          <div>{\"user.location.city\"}</div>\n        </span>\n      </span>\n    </div>\n  )\n}\n\nexport default User;","import React from \"react\";\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\n\nlet Users = ({totalUsersCount, pageSize, currentPage, onPageChanged, ...props}) => {\n\n  return (\n    <div>\n      <Paginator totalItemsCount={totalUsersCount}\n                 pageSize={pageSize}\n                 currentPage={currentPage}\n                 onPageChanged={onPageChanged}\n                 portionSize={10}\n                 portionOfPagesNumber={props.portionOfPagesNumber}\n                 setPortionOfPagesNumber={props.setPortionOfPagesNumber}\n      />\n      {props.users.map((user) => <User \n                                  key={user.id} \n                                  user={user} \n                                  followingProgress={props.followingProgress}\n                                  unfollow={props.unfollow} \n                                  follow={props.follow}\n                                  />)}\n    </div>\n  )\n}\n\nexport default Users;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport styles from \"./Users.module.css\"\nimport { \n  setCurrentPage,\n  setPortionOfPagesNumber, \n  toggleFollowingProgress,\n  requestUsers,\n  unfollow,\n  follow,\n} from \"../../redux/usersReducer\";\nimport {\n  getUsers,\n  getPageSize,\n  getTotalUsersCount,\n  getCurrentPage,\n  getPortionOfPagesNumber,\n  getIsFetching,\n  getFollowingProgress\n} from '../../redux/usersSelector'\nimport Preloader from \"../common/Preloader/Preloader\";\nimport Users from \"./Users\";\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect'\n\nclass UsersContainer extends React.Component {\n\n  componentDidMount() {\n    const {currentPage, pageSize} = this.props\n    this.props.requestUsers(currentPage, pageSize)\n  }\n\n  onPageChanged = (pageNumber) => {\n    const {pageSize} = this.props;\n    this.props.requestUsers(pageNumber, pageSize);\n    this.props.setCurrentPage(pageNumber); //?\n  }\n  \n  render() {\n    console.log(\"RENDER users\")\n    return (\n      <div className={styles.usersContainer}>{\n        this.props.isFetching ? <Preloader/> : null }\n        <Users onPageChanged={this.onPageChanged}\n        totalUsersCount={this.props.totalUsersCount}\n        pageSize={this.props.pageSize}\n        currentPage={this.props.currentPage}\n        portionOfPagesNumber={this.props.portionOfPagesNumber}\n        setPortionOfPagesNumber={this.props.setPortionOfPagesNumber}\n        users={this.props.users}\n        followingProgress={this.props.followingProgress}\n        toggleFollowingProgress={this.props.toggleFollowingProgress}\n        unfollow={this.props.unfollow}\n        follow={this.props.follow} \n        />\n      </div>\n    )\n  }\n}\n\n\nlet mapStateToProps = (state) => {\n  console.log(\"mapStateToProps USERS\")\n  return {\n    users: getUsers(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    portionOfPagesNumber: getPortionOfPagesNumber(state),\n    isFetching: getIsFetching(state),\n    followingProgress: getFollowingProgress(state),\n  }\n}\n// let mapDispatchToProps = (dispatch) => {\n//   return {\n//     follow: (userId) => {\n//       dispatch(followAC(userId))\n//     },\n//     unfollow: (userId) => {\n//       dispatch(unfollowAC(userId))\n//     },\n//     setUsers: (users) => {\n//       dispatch(setUsersAC(users))\n//     },\n//     setCurrentPage: (currentPage) => {\n//       dispatch(setCurrentPageAC(currentPage))\n//     },\n//     setTotalUsersCount: (totalUsersCount) => {\n//       dispatch(setTotalUsersCountAC(totalUsersCount))\n//     },\n//     toggleIsFetching: (isFetching) => {\n//       dispatch(setIsFetchingAC(isFetching))\n//     }\n//   }\n// }\n\nexport default compose(\n  connect(mapStateToProps, \n    {\n      setCurrentPage,\n      setPortionOfPagesNumber,\n      toggleFollowingProgress,\n      requestUsers,\n      unfollow,\n      follow,\n    }),\n  withAuthRedirect\n)(UsersContainer)\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from './Header.module.css'\n\nconst Header = (props) => {\n  return (\n    <header className={s.header}>\n        <img src='https://pbs.twimg.com/profile_images/1063925348205821958/DlGcxdOl.jpg'/>\n\n        <div className={s.loginBlock}>\n\n          { props.isAuth ? \n            <div>\n              {props.login}\n              <button onClick={props.logout}>Logout</button>\n            </div>  \n            : <NavLink to={'/login'}>Login</NavLink>}\n          \n        </div>\n\n    </header>\n  )\n}\n\nexport default Header;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Header from './Header';\nimport { logout } from '../../redux/authReducer';\n\nclass HeaderContainer extends React.Component {\n\n\n  render() {\n    return (\n      <Header {...this.props} profile={this.props.profile}/>\n    )\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    id: state.auth.id,\n    email: state.auth.email,\n    login: state.auth.login,\n    isAuth: state.auth.isAuth,\n  }\n}\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\nimport { reduxForm } from 'redux-form';\nimport { maxLengthCreator, required } from \"../../utils/validators/validators\";\nimport { createField, Input } from \"../common/FormsControls/FormsControls\";\nimport { login, getCaptchaUrl } from \"../../redux/authReducer\"\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router\";\nimport style from '../common/FormsControls/FormsControl.module.css'\n\nconst maxLength30 = maxLengthCreator(30)\n\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {createField(\"Email\", \"email\", [required, maxLength30], Input)}\n      {createField(\"Password\", \"password\", [required, maxLength30], Input, {type: \"password\"})}\n      {createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\n\n      {error && <div className={style.formSummaryError}>{error}</div>}\n\n      {captchaUrl && <div><img src={captchaUrl}/></div>}\n      {captchaUrl && createField(\"enter letters\", \"captcha\", [required], Input, {})}\n\n      <div>\n        <button>Login</button>\n      </div>\n    </form>\n  )\n}\n\nconst LoginReduxForm = reduxForm({\n  // a unique name for the form\n  form: 'login'\n})(LoginForm)\n\n\n\n\nconst Login = (props) => {\n  const onSubmit = (formData) => {\n    console.log(formData);\n    props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\n  }\n\n  if (props.isAuth) return <Redirect to={\"/profile\"}/>\n\n  return <div>\n    <h1>Login</h1>\n    <LoginReduxForm \n      captchaUrl={props.captchaUrl} \n      onSubmit={onSubmit} \n      errorMessage={props.errorMessage}\n    />\n    \n  </div>\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuth: state.auth.isAuth,\n    captchaUrl: state.auth.captchaUrl,\n    // errorMessage: state.auth.errorMessage\n  }\n}\nexport default connect(mapStateToProps, { login })(Login);","import React from \"react\";\nimport { Suspense } from \"react\";\nimport Preloader from \"../components/common/Preloader/Preloader\";\n\nexport const withSuspense = (Component) => {\n  const ComponentWithSuspense = (props) => {\n    return(\n      <Suspense fallback={<Preloader/>}><Component {...props}/></Suspense>\n    )\n  }\n  return ComponentWithSuspense;\n}\n\nexport default withSuspense;","import React from 'react';\nimport Navbar from './components/Navbar/Navbar';\nimport s from './App.module.css'\nimport { Route, withRouter } from 'react-router';\n\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\n// import ProfileContainer from './components/Profile/ProfileContainer';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport LoginPage from './components/Login/Login';\nimport { initializedApp } from './redux/appReducer'\nimport { connect, Provider } from 'react-redux';\nimport { compose } from 'redux';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\nimport store from './redux/reduxStore';\nimport withSuspense from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\nconst DialogsContainerWithSusoense = withSuspense(DialogsContainer);\n\nclass  App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializedApp();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader/>\n    }\n    return (\n      <div className={s.app_wrapper}>\n        <HeaderContainer />\n        <Navbar \n          // store={props.store}\n          // sideBar={props.state.sideBar} \n        />\n        <div className={s.app_wrapper_content}>\n          <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)} />\n          <Route path=\"/dialogs\" render={() => <DialogsContainerWithSusoense/>} />\n          <Route path=\"/news\" component={News} />\n          <Route path=\"/music\" component={Music} />\n          <Route path=\"/settings\" component={Settings} />\n          <Route path=\"/users\" render={() => <UsersContainer/>} />\n          <Route path=\"/login\" render={() => <LoginPage/>} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized\n  }\n}\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializedApp})\n)(App);\n\nlet SamuraiJSApp = (props) => {\n  return (\n    <HashRouter \n    // basename={process.env.PUBLIC_URL}\n    >\n      <Provider store={store}>\n          <AppContainer/>\n      </Provider>\n    </HashRouter>\n  )\n}\nexport default SamuraiJSApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\nimport store from './redux/reduxStore';\nimport SamuraiJSApp from './App';\n\nlet rerenderEntireTree = (state) => {\n  ReactDOM.render(\n    <SamuraiJSApp/>,\n    document.getElementById('root')\n  );\n}\n\nrerenderEntireTree(store.getState());\n\n// store.subscribe(() => {\n//   rerenderEntireTree(store.getState());\n// });\n// store.subscribe(rerenderEntireTree); // так было, когда использовали самодельный стор вместо редакса\n\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/loading.dbb22bcf.gif\";","import React from 'react';\nimport preloader from '../../../../src/assets/images/loading.gif';\n\nlet Preloader = (props) => {\n  return (\n    <div style={{backgroundColor: 'white'}}><img src={preloader}/>loading</div>\n  )\n\n}\n\nexport default Preloader;","export const required = value => {\n  if (value) return undefined\n  return \"Field is required\"\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n  if (value && value.length > maxLength) return `Max length is ${maxLength}`\n  return undefined\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-control\":\"FormsControl_form-control__2RdUF\",\"formControl\":\"FormsControl_formControl__WE9ql\",\"error\":\"FormsControl_error__eY5EU\",\"formSummaryError\":\"FormsControl_formSummaryError__3Uy6X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersContainer\":\"Users_usersContainer__1OedU\",\"userPhoto\":\"Users_userPhoto__17MJB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__18P4_\",\"pagesNumbers\":\"Paginator_pagesNumbers__1e7QM\",\"selectedPage\":\"Paginator_selectedPage__3SIki\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_wrapper\":\"App_app_wrapper__5i7wO\",\"app_wrapper_content\":\"App_app_wrapper_content__2AoW5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\",\"avatar\":\"Header_avatar__2DnQ9\"};","import { stopSubmit } from 'redux-form';\nimport { profileAPI, userAPI } from '../api/api'\n\nconst ADD_POST = 'profileReducer/ADD-POST';\nconst SET_USER_PROFILE = 'profileReducer/SET_USER_PROFILE';\nconst SET_STATUS = 'profileReducer/SET_USER_STATUS';\nconst DELETE_POST = 'profileReducer/DELETE_POST';\nconst SAVE_PHOTO_SUCCESS = 'profileReducer/SAVE_PHOTO_SUCCESS';\n\nlet initialState = {\n  postsData: [\n    {id: 1, name: 'Roma1', text: 'blabla1', likes: 4, src: 'https://trashbox.ru/ifiles/220798_004e6a_img_20140503_122504.jpg_min1/avatarki.-1.jpg'},\n    {id: 2, name: 'Roma2', text: 'blabla2', likes: 34, src: 'https://klike.net/uploads/posts/2019-03/1551511801_1.jpg'},\n    {id: 3, name: 'Roma3', text: 'blabla3', likes: 2, src: 'https://download-cs.net/steam/avatars/3408.jpg'},\n  ],\n  profile: null,\n  status: ''\n}\n\nconst profileReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n      \n    case ADD_POST: \n\n      return {\n        ...state,\n        postsData: [...state.postsData, {\n          id: 4,\n          name: 'New',\n          text: action.newPostText,\n          likes: 0,\n          src: 'http://cs622426.vk.me/v622426834/409d/baLqspYwi84.jpg'\n        }]\n      }\n\n    case DELETE_POST: \n\n      return {\n        ...state,\n        postsData: state.postsData.filter(p => p.id !== action.postId)\n      }\n\n    case SAVE_PHOTO_SUCCESS: \n\n      return {\n        ...state,\n        profile: {...state.profile, photos: action.photos}\n      }\n\n    case SET_USER_PROFILE: \n      return {\n        ...state,\n        profile: action.profile\n      }\n\n    case SET_STATUS: \n      return {\n        ...state,\n        status: action.status\n      }\n    \n    default: \n      return state;\n  }\n \n}\n\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\nexport const setStatus = (status) => ({type: SET_STATUS, status})\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\n\n\nexport const getUserProfile = (userId) => {\n  return async (dispatch) => {\n    let data = await userAPI.getProfile(userId)\n    dispatch(setUserProfile(data))\n  }\n}\nexport const getStatus = (userId) => {\n  return async (dispatch) => {\n    let response = await profileAPI.getStatus(userId)\n    dispatch(setStatus(response.data)) \n  }\n}\nexport const updateStatus = (status) => {\n  return async (dispatch) => {\n    let response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n      dispatch(setStatus(status))\n    }\n  }\n}\nexport const savePhoto = (file) => {\n  return async (dispatch) => {\n    let response = await profileAPI.savePhoto(file)\n    if (response.data.resultCode === 0) {\n      dispatch(savePhotoSuccess(response.data.data.photos))\n    }\n  }\n}\nexport const saveProfile = (profile) => {\n  return async (dispatch, getState) => {\n    const userId = getState().auth.id;\n    const response = await profileAPI.saveProfile(profile)\n    if (response.data.resultCode === 0) {\n      dispatch(getUserProfile(userId))\n    } else {\n      let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n      dispatch(stopSubmit(\"editProfile\", {_error: response.data.messages[0]}));\n      return Promise.reject(response.data.messages[0]);\n    }\n  }\n}\n\nexport default profileReducer;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router\";\n\nlet mapStateToPropsForRedirect = (state) => {\n  return {\n    isAuth: state.auth.isAuth\n  }\n}\n\nexport const withAuthRedirect = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) return <Redirect to={\"/login\"}/>\n      return (\n        <Component {...this.props}/>\n      )\n    }\n  }\n\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n  return ConnectedAuthRedirectComponent;\n}\n\nexport default withAuthRedirect;"],"sourceRoot":""}