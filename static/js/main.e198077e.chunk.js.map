{"version":3,"sources":["assets/images/defaultAvatar.png","components/Navbar/Navbar.module.css","api/api.js","redux/dialogsReducer.js","components/common/FormsControls/FormsControls.jsx","reportWebVitals.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/usersReducer.js","redux/usersSelector.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","assets/images/loading.gif","components/common/Preloader/Preloader.js","utils/validators/validators.js","components/common/FormsControls/FormsControl.module.css","components/Users/Users.module.css","components/common/Paginator/Paginator.module.css","App.module.css","components/Header/Header.module.css","hoc/withAuthRedirect.js","redux/profileReducer.js"],"names":["module","exports","instance","axios","create","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","id","delete","follow","post","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","SEND_MESSAGE","initialState","dialogsData","name","avatarSrc","messagesData","author","likesCount","message","sendMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","FormControl","input","meta","children","hasError","touched","error","className","styles","formControl","Textarea","props","restProps","Input","createField","placeholder","validators","component","text","validate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","s","nav","item","to","link","activeClassName","active","itemFriends","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","SET_PORTION_OF_PAGES_NUMBER","users","totalUsersCount","isFetching","followingProgress","portionOfPagesNumber","fake","followSucces","userId","unfollowSucces","setCurrentPage","setIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","portionNumber","filter","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getPortionOfPagesNumber","getIsFetching","getFollowingProgress","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","portionSize","useState","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","pagesNumbers","selectedPage","onPageChanged","setPortionOfPagesNumber","User","user","src","photos","small","userPhoto","disabled","some","Users","UsersContainer","pageNumber","requestUsers","this","usersContainer","Preloader","React","Component","compose","connect","totalCount","bind","withAuthRedirect","Header","header","loginBlock","isAuth","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","HeaderContainer","auth","maxLength30","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","style","formSummaryError","messages","length","stopSubmit","_error","console","log","errorMessage","INITIALIZED_SUCCESS","initialized","globalError","appReducer","friendsData","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","sideBar","app","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","DialogsContainerWithSusoense","App","catchAllUnhandledErrors","reason","promise","alert","initializedApp","app_wrapper","app_wrapper_content","exact","path","render","AppContainer","withRouter","propmise","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById","backgroundColor","preloader","value","maxLength","mapStateToPropsForRedirect","RedirectComponent","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","postsData","likes","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","reject","postId"],"mappings":"wHAAe,QAA0B,2C,mBCCzCA,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,YAAc,4BAA4B,KAAO,qBAAqB,OAAS,yB,gCCDvJ,qJAEMC,EAFN,OAEiBC,EAAMC,OAAO,CAE5BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACP,UAAW,0CAKFC,EAAU,CAErBC,SAFqB,WAEoB,IAAhCC,EAA+B,uDAAjB,EAAEC,EAAe,uDAAJ,GAClC,OAAOT,EAASU,IAAT,qBAA2BF,EAA3B,kBAAgDC,IACtDE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAG7BC,SAPqB,SAOZC,GACP,OAAOf,EAASgB,OAAT,iBAA0BD,KAGnCE,OAXqB,SAWdF,GACL,OAAOf,EAASkB,KAAT,iBAAwBH,KAGjCI,WAfqB,SAeVJ,GACT,OAAOK,EAAWD,WAAWJ,KAIpBK,EAAa,CAExBD,WAFwB,SAEbJ,GACT,OAAOf,EAASU,IAAT,kBAAwBK,IAC9BJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAG7BQ,UAPwB,SAOdN,GACR,OAAOf,EAASU,IAAT,yBAA+BK,KAGxCO,aAXwB,SAWXC,GACX,OAAOvB,EAASwB,IAAT,iBAA+B,CAACD,OAAQA,KAGjDE,UAfwB,SAedC,GACR,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClB1B,EAASwB,IAAI,gBAAiBG,EAAU,CAC7CtB,QAAS,CACP,eAAgB,0BAKtByB,YAzBwB,SAyBZC,GACV,OAAO/B,EAASwB,IAAI,UAAWO,KAItBC,EAAU,CAErBC,GAFqB,WAGnB,OAAOjC,EAASU,IAAI,WACnBC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAG7BqB,MAPqB,SAOfC,EAAOC,GAA+C,IAArCC,EAAoC,wDAAhBC,EAAgB,uDAAN,KACnD,OAAOtC,EAASkB,KAAK,aAAc,CACjCiB,QACAC,WACAC,aACAC,aAIJC,OAhBqB,WAiBnB,OAAOvC,EAASgB,OAAO,gBAKdwB,EAAc,CAEzBC,cAFyB,WAGvB,OAAOzC,EAASU,IAAI,+B,sFCvFlBgC,EAAe,8BAEjBC,EAAe,CACjBC,YAAa,CACX,CAAC7B,GAAI,EAAG8B,KAAM,SAAUC,UAAW,oFACnC,CAAC/B,GAAI,EAAG8B,KAAM,OAAQC,UAAW,oOACjC,CAAC/B,GAAI,EAAG8B,KAAM,UAAWC,UAAW,iFACpC,CAAC/B,GAAI,EAAG8B,KAAM,OAAQC,UAAW,8KACjC,CAAC/B,GAAI,EAAG8B,KAAM,OAAQC,UAAW,0EAEnCC,aAAc,CACZ,CAAChC,GAAI,EAAGiC,OAAQ,KAAMC,WAAY,EAAGC,QAAS,MAC9C,CAACnC,GAAI,EAAGiC,OAAQ,SAAUC,WAAY,GAAIC,QAAS,SACnD,CAACnC,GAAI,EAAGiC,OAAQ,KAAMC,WAAY,EAAGC,QAAS,YAC9C,CAACnC,GAAI,EAAGiC,OAAQ,SAAUC,WAAY,GAAIC,QAAS,QACnD,CAACnC,GAAI,EAAGiC,OAAQ,KAAMC,WAAY,EAAGC,QAAS,QAyBrCC,EAA2B,SAACC,GAAD,MAAqB,CAACC,KAAMX,EAAcU,mBAEnEE,IAvBQ,WAAmC,IAAlCC,EAAiC,uDAAzBZ,EAAca,EAAW,uCAEvD,OAAQA,EAAOH,OAERX,EAEI,2BACFa,GADL,IAEER,aAAa,GAAD,mBAAMQ,EAAMR,cAAZ,CAA0B,CACpChC,GAAI,EACJiC,OAAQ,KACRC,WAAY,EACZC,QAASM,EAAOJ,oBAKbG,I,4VC/BPE,EAAc,SAAC,GAAsC,EAArCC,MAAsC,IAA/BC,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,SAE3BC,GAFmD,iBAExCF,EAAKG,SAAWH,EAAKI,OAEtC,OACE,sBAAKC,UAAWC,IAAOC,YAAc,KAAOL,EAAWI,IAAOF,MAAQ,IAAtE,UACE,8BACGH,IAEFC,GAAY,+BAAOF,EAAKI,YAKlBI,EAAW,SAACC,GACvB,IAAOV,EAAuCU,EAAvCV,MAA0BW,GAAaD,EAAhCT,KAAgCS,EAA1BR,SAApB,YAA8CQ,EAA9C,IACA,OAAO,cAACX,EAAD,2BAAiBW,GAAjB,aAAwB,oDAAcV,GAAWW,QAG7CC,EAAQ,SAACF,GACpB,IAAOV,EAAuCU,EAAvCV,MAA0BW,GAAaD,EAAhCT,KAAgCS,EAA1BR,SAApB,YAA8CQ,EAA9C,IACA,OAAO,cAACX,EAAD,2BAAiBW,GAAjB,aAAwB,iDAAWV,GAAWW,QAW1CE,EAAc,SAACC,EAAa3B,EAAM4B,EAAYC,GAAsC,IAA3BN,EAA0B,uDAAlB,GAAIO,EAAc,uDAAP,GACvF,OACE,gCACE,cAAC,IAAD,aAAOH,YAAaA,EACZ3B,KAAMA,EACN6B,UAAWA,EACXE,SAAUH,GACNL,IACTO,O,6ECjCME,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBpE,MAAK,YAAkD,IAA/CqE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,yECiCCO,EAnCA,WACb,OACE,sBAAKrB,UAAWsB,IAAEC,IAAlB,UACE,qBAAKvB,UAAS,UAAKsB,IAAEE,MAArB,SACE,cAAC,IAAD,CAASC,GAAG,WAAWzB,UAAWsB,IAAEI,KAAMC,gBAAiBL,IAAEM,OAA7D,uBAEF,qBAAK5B,UAAWsB,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,WAAWzB,UAAWsB,IAAEI,KAAMC,gBAAiBL,IAAEM,OAA7D,wBAEF,qBAAK5B,UAAWsB,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,QAAQzB,UAAWsB,IAAEI,KAAMC,gBAAiBL,IAAEM,OAA1D,oBAEF,qBAAK5B,UAAWsB,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,SAASzB,UAAWsB,IAAEI,KAAMC,gBAAiBL,IAAEM,OAA3D,qBAEF,qBAAK5B,UAAWsB,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,YAAYzB,UAAWsB,IAAEI,KAAMC,gBAAiBL,IAAEM,OAA9D,wBAEF,qBAAK5B,UAAWsB,IAAEE,KAAO,IAAMF,IAAEO,YAAjC,SACE,cAAC,IAAD,CAASJ,GAAG,WAAWzB,UAAWsB,IAAEI,KAAMC,gBAAiBL,IAAEM,OAA7D,uBAEF,qBAAK5B,UAAWsB,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,SAASzB,UAAWsB,IAAEI,KAAMC,gBAAiBL,IAAEM,OAA3D,qBAEF,qBAAK5B,UAAWsB,IAAEE,KAAlB,SACE,cAAC,IAAD,CAASC,GAAG,SAASzB,UAAWsB,IAAEI,KAAMC,gBAAiBL,IAAEM,OAA3D,yB,wBCpBOE,EARF,SAAC1B,GACZ,OACE,wCCOW2B,G,OARD,SAAC3B,GACb,OACE,0CCMW4B,G,OARE,SAAC5B,GAChB,OACE,6C,gFCLO6B,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC5D,OAAOH,EAAMI,KAAI,SAACC,GAChB,OAAIA,EAAEH,KAAiBD,EACd,2BAAII,GAAMF,GAEZE,MCFLC,EAAS,sBACTC,EAAW,wBACXC,EAAY,yBACZC,EAAmB,gCACnBC,EAAwB,qCACxBC,EAAqB,kCACrBC,EAA+B,4CAC/BC,EAA8B,2CAEhCpE,EAAe,CACjBqE,MAAO,GACPvG,SAAU,EACVwG,gBAAiB,EACjBzG,YAAa,EACb0G,YAAY,EACZC,kBAAmB,GACnBC,qBAAsB,EACtBC,KAAM,IA4DKC,EAAe,SAACC,GAAD,MAAa,CAAClE,KAAMmD,EAAQe,WAC3CC,EAAiB,SAACD,GAAD,MAAa,CAAClE,KAAMoD,EAAUc,WAE/CE,EAAiB,SAACjH,GAAD,MAAkB,CAAC6C,KAAMsD,EAAkBnG,gBAG5DkH,EAAgB,SAACR,GAAD,MAAiB,CAAC7D,KAAMwD,EAAoBK,eAC5DS,EAA0B,SAACT,EAAYK,GAAb,MAAyB,CAAClE,KAAMyD,EAA8BI,aAAYK,WAa3GK,EAAkB,uCAAG,WAAMC,EAAUN,EAAQO,EAAWC,GAAnC,SAAAC,EAAA,6DACzBH,EAASF,GAAwB,EAAMJ,IADd,SAGJO,EAAUP,GAHN,OAKQ,IALR,OAKZ1G,KAAKoH,YAChBJ,EAASE,EAAcR,IAGzBM,EAASF,GAAwB,EAAOJ,IATf,2CAAH,4DA4BTW,EAzGM,WAAmC,IAAlC3E,EAAiC,uDAAzBZ,EAAca,EAAW,uCAErD,OAAQA,EAAOH,MAEb,KAAKmD,EACH,OAAO,2BACFjD,GADL,IAEEyD,MAAOf,EAAoB1C,EAAMyD,MAAOxD,EAAO+D,OAAQ,KAAM,CAACY,UAAU,MAS5E,KAAK1B,EACH,OAAO,2BACFlD,GADL,IAEEyD,MAAOf,EAAoB1C,EAAMyD,MAAOxD,EAAO+D,OAAQ,KAAM,CAACY,UAAU,MAS5E,KAAKzB,EACH,OAAO,2BAAInD,GAAX,IAAiByD,MAAM,YAAKxD,EAAOwD,SAErC,KAAKL,EACH,OAAO,2BAAIpD,GAAX,IAAkB/C,YAAagD,EAAOhD,cAExC,KAAKuG,EACH,OAAO,2BAAIxD,GAAX,IAAkB6D,qBAAsB5D,EAAO4E,gBAEjD,KAAKxB,EACH,OAAO,2BAAIrD,GAAX,IAAkB0D,gBAAiBzD,EAAOyD,kBAE5C,KAAKJ,EACH,OAAO,2BAAItD,GAAX,IAAkB2D,WAAY1D,EAAO0D,aAEvC,KAAKJ,EACH,OAAO,2BACFvD,GADL,IAEE4D,kBAAmB3D,EAAO0D,WAAP,sBACb3D,EAAM4D,mBADO,CACY3D,EAAO+D,SACpChE,EAAM4D,kBAAkBkB,QAAO,SAAAtH,GAAE,OAAIA,GAAMyC,EAAO+D,YAGxD,QACE,OAAOhE,I,SC/DAhD,EAAW+H,aAJQ,SAAC/E,GAC/B,OAAOA,EAAMgF,UAAUvB,SAGgC,SAACA,GACxD,OAAOA,EAAMqB,QAAO,SAAA9B,GAAC,OAAI,QAGdiC,EAAc,SAACjF,GAC1B,OAAOA,EAAMgF,UAAU9H,UAEZgI,EAAqB,SAAClF,GACjC,OAAOA,EAAMgF,UAAUtB,iBAEZyB,GAAiB,SAACnF,GAC7B,OAAOA,EAAMgF,UAAU/H,aAEZmI,GAA0B,SAACpF,GACtC,OAAOA,EAAMgF,UAAUnB,sBAEZwB,GAAgB,SAACrF,GAC5B,OAAOA,EAAMgF,UAAUrB,YAEZ2B,GAAuB,SAACtF,GACnC,OAAOA,EAAMgF,UAAUpB,mB,+CCOV2B,GAnCC,SAAC1E,GAGf,IAFA,IAAI2E,EAAaC,KAAKC,KAAK7E,EAAM8E,gBAAkB9E,EAAM3D,UACrD0I,EAAQ,GACHC,EAAI,EAAGA,GAAKL,EAAYK,IAC/BD,EAAME,KAAKD,GAGb,IAAIE,EAAeN,KAAKC,KAAKF,EAAa3E,EAAMmF,aAChD,EAAwCC,mBAASpF,EAAMgD,sBAAvD,oBAAKgB,EAAL,KAAoBqB,EAApB,KACIC,GAAyBtB,EAAgB,GAAKhE,EAAMmF,YAAc,EAClEI,EAAyBvB,EAAgBhE,EAAMmF,YAOnD,OACE,sBAAKvF,UAAWC,KAAO2F,UAAvB,UACIxB,EAAgB,GACjB,wBAAQyB,QAAS,kBAAMJ,EAAiBrB,EAAgB,IAAxD,kBAEAe,EAAMd,QAAO,SAAAyB,GAAC,OAAIA,GAAKJ,GAAyBI,GAAIH,KAAwBrD,KAAI,SAAAwD,GAAC,OAAI,sBACtF9F,UAAS,UAAKC,KAAO8F,aAAZ,YAA4B3F,EAAM5D,cAAgBsJ,GAAK7F,KAAO+F,cAEvEH,QAAS,kBAbO,SAACC,GACnB1F,EAAM6F,cAAcH,GACpB1F,EAAM8F,wBAAwB9B,GAWb6B,CAAcH,IAHyD,SAInFA,GAFEA,MAIHR,EAAelB,GAChB,wBAAQyB,QAAS,kBAAMJ,EAAiBrB,EAAgB,IAAxD,sB,UCUQ+B,GAtCJ,SAAC,GAAiD,IAAhDC,EAA+C,EAA/CA,KAAMjD,EAAyC,EAAzCA,kBAAmBrG,EAAsB,EAAtBA,SAAUG,EAAY,EAAZA,OAE9C,OACE,gCACE,iCACE,8BACE,cAAC,IAAD,CAASwE,GAAE,mBAAc2E,EAAKrJ,IAA9B,SACE,qBAAKsJ,IAA2B,OAAtBD,EAAKE,OAAOC,MAAiBH,EAAKE,OAAOC,MAAQC,KAAWxG,UAAWC,IAAOuG,gBAG5F,8BACGJ,EAAKjC,SACF,wBACAsC,SAAUtD,EAAkBuD,MAAK,SAAA3J,GAAE,OAAIA,IAAOqJ,EAAKrJ,MACnD8I,QAAU,WACR/I,EAASsJ,EAAKrJ,KAHhB,sBAKA,wBACA0J,SAAUtD,EAAkBuD,MAAK,SAAA3J,GAAE,OAAIA,IAAOqJ,EAAKrJ,MACnD8I,QAAU,WACR5I,EAAOmJ,EAAKrJ,KAHd,yBAOR,iCACE,iCACE,8BAAMqJ,EAAKvH,OACX,8BAAMuH,EAAK7I,YAEb,iCACE,8BAAM,0BACN,8BAAM,iC,gECVDoJ,GAtBH,SAAC,GAAuE,IAAtE1D,EAAqE,EAArEA,gBAAiBxG,EAAoD,EAApDA,SAAUD,EAA0C,EAA1CA,YAAayJ,EAA6B,EAA7BA,cAAkB7F,EAAW,mBAEjF,OACE,gCACE,cAAC,GAAD,CAAW8E,gBAAiBjC,EACjBxG,SAAUA,EACVD,YAAaA,EACbyJ,cAAeA,EACfV,YAAa,GACbnC,qBAAsBhD,EAAMgD,qBAC5B8C,wBAAyB9F,EAAM8F,0BAEzC9F,EAAM4C,MAAMV,KAAI,SAAC8D,GAAD,OAAU,cAAC,GAAD,CACMA,KAAMA,EACNjD,kBAAmB/C,EAAM+C,kBACzBrG,SAAUsD,EAAMtD,SAChBG,OAAQmD,EAAMnD,QAJTmJ,EAAKrJ,W,SCU3C6J,G,4MAOJX,cAAgB,SAACY,GACf,IAAOpK,EAAY,EAAK2D,MAAjB3D,SACP,EAAK2D,MAAM0G,aAAaD,EAAYpK,GACpC,EAAK2D,MAAMqD,eAAeoD,I,uDAR5B,WACE,MAAgCE,KAAK3G,MAA9B5D,EAAP,EAAOA,YAAaC,EAApB,EAAoBA,SACpBsK,KAAK3G,MAAM0G,aAAatK,EAAaC,K,oBASvC,WACE,OACE,sBAAKuD,UAAWC,IAAO+G,eAAvB,UACED,KAAK3G,MAAM8C,WAAa,cAAC+D,GAAA,EAAD,IAAe,KACvC,cAAC,GAAD,CAAOhB,cAAec,KAAKd,cAC3BhD,gBAAiB8D,KAAK3G,MAAM6C,gBAC5BxG,SAAUsK,KAAK3G,MAAM3D,SACrBD,YAAauK,KAAK3G,MAAM5D,YACxB4G,qBAAsB2D,KAAK3G,MAAMgD,qBACjC8C,wBAAyBa,KAAK3G,MAAM8F,wBACpClD,MAAO+D,KAAK3G,MAAM4C,MAClBG,kBAAmB4D,KAAK3G,MAAM+C,kBAC9BQ,wBAAyBoD,KAAK3G,MAAMuD,wBACpC7G,SAAUiK,KAAK3G,MAAMtD,SACrBG,OAAQ8J,KAAK3G,MAAMnD,gB,GA3BEiK,IAAMC,WAqEpBC,eACbC,aApCoB,SAAC9H,GACrB,MAAO,CACLyD,MAAOzG,EAASgD,GAChB9C,SAAU+H,EAAYjF,GACtB0D,gBAAiBwB,EAAmBlF,GACpC/C,YAAakI,GAAenF,GAC5B6D,qBAAsBuB,GAAwBpF,GAC9C2D,WAAY0B,GAAcrF,GAC1B4D,kBAAmB0B,GAAqBtF,MA6BxC,CACEkE,iBACAyC,wBLfiC,SAAC9B,GAAD,MAAoB,CAAC/E,KAAM0D,EAA6BqB,kBKgBzFT,0BACAmD,aLZsB,SAACtK,EAAaC,GACxC,8CAAO,WAAOoH,GAAP,eAAAG,EAAA,6DACLH,EAASH,GAAc,IADlB,SAEYpH,IAAQC,SAASC,EAAaC,GAF1C,OAEDI,EAFC,OAGLgH,EAASH,GAAc,IACvBG,GAZqBb,EAYHnG,EAAKqF,MAZS,CAAC7C,KAAMqD,EAAWM,WAalDa,GAV+BZ,EAUHpG,EAAKyK,WAVmB,CAACjI,KAAMuD,EAAuBK,qBAWlFY,EAASJ,EAAejH,IANnB,iCALyB,IAACyG,EAHVD,IAQhB,OAAP,uDKYIlG,SLUkB,SAACyG,GACvB,8CAAO,WAAOM,GAAP,SAAAG,EAAA,sDACLJ,EAAmBC,EAAUN,EAAQjH,IAAQQ,SAASyK,KAAKjL,KAAUkH,GADhE,2CAAP,uDKVIvG,OLegB,SAACsG,GACrB,8CAAO,WAAOM,GAAP,SAAAG,EAAA,sDACLJ,EAAmBC,EAAUN,EAAQjH,IAAQW,OAAOsK,KAAKjL,KAAUgH,GAD9D,2CAAP,yDKdAkE,KAVaJ,CAWbR,I,oBClFaa,GApBA,SAACrH,GACd,OACE,yBAAQJ,UAAWsB,KAAEoG,OAArB,UACI,qBAAKrB,IAAI,0EAET,qBAAKrG,UAAWsB,KAAEqG,WAAlB,SAEIvH,EAAMwH,OACN,gCACGxH,EAAMlC,MACP,wBAAQ2H,QAASzF,EAAM7B,OAAvB,uBAEA,cAAC,IAAD,CAASkD,GAAI,SAAb,yB,SCbRoG,GAAgB,4BAEhBC,GAA0B,sCAG5BnJ,GAAe,CACjB5B,GAAI,KACJoB,MAAO,KACPD,MAAO,KACPgF,YAAY,EACZ0E,QAAQ,EACRG,WAAY,MA4BDC,GAAc,SAACjL,EAAIoB,EAAOD,EAAO0J,GAAnB,MAA+B,CAACvI,KAAMwI,GAAeI,QAAS,CAAClL,KAAIoB,QAAOD,QAAO0J,YAE/FM,GAAuB,SAACH,GAAD,MAAiB,CAAC1I,KAAMyI,GAAyBG,QAAS,CAACF,gBAGlFI,GAAkB,WAC5B,8CAAO,WAAOtE,GAAP,eAAAG,EAAA,sEACWhG,IAAQC,KADnB,OAGkB,KAFpBpB,EADE,QAGGoH,YACPJ,EAASmE,GAAYnL,EAAKA,KAAKE,GAAIF,EAAKA,KAAKsB,MAAOtB,EAAKA,KAAKqB,OAAO,IAJjE,2CAAP,uDAqCUO,GAAgB,WAC3B,8CAAO,WAAOoF,GAAP,iBAAAG,EAAA,sEACkBxF,IAAYC,gBAD9B,OACC7B,EADD,OAECmL,EAAanL,EAASC,KAAKuL,IAEjCvE,EAASqE,GAAqBH,IAJzB,2CAAP,uDAQaM,GA3EK,WAAmC,IAAlC9I,EAAiC,uDAAzBZ,GAAca,EAAW,uCACpD,OAAQA,EAAOH,MAEb,KAAKyI,GACL,KAAKD,GACH,OAAO,2BACFtI,GACAC,EAAOyI,SAWd,QACE,OAAO1I,ICjCP+I,G,4JAEJ,WACE,OACE,cAAC,GAAD,2BAAYvB,KAAK3G,OAAjB,IAAwBrC,QAASgJ,KAAK3G,MAAMrC,e,GAJpBmJ,IAAMC,WAkBrBE,gBATO,SAAC9H,GACrB,MAAO,CACLxC,GAAIwC,EAAMgJ,KAAKxL,GACfoB,MAAOoB,EAAMgJ,KAAKpK,MAClBD,MAAOqB,EAAMgJ,KAAKrK,MAClB0J,OAAQrI,EAAMgJ,KAAKX,UAIiB,CAACrJ,ODqDnB,WACpB,8CAAO,WAAOsF,GAAP,SAAAG,EAAA,sEACgBhG,IAAQO,SADxB,OAE2B,IAF3B,OAEO1B,KAAKoH,YACfJ,EAASmE,GAAY,KAAM,KAAM,MAAM,IAHpC,2CAAP,wDCtDaX,CAAmCiB,I,gDCd5CE,GAAcC,aAAiB,IAsB/BC,GAAiBC,aAAU,CAE/BC,KAAM,SAFeD,EApBL,SAAC,GAAuC,IAAtCE,EAAqC,EAArCA,aAAc9I,EAAuB,EAAvBA,MAAOgI,EAAgB,EAAhBA,WAEvC,OACE,uBAAMe,SAAUD,EAAhB,UACGtI,aAAY,QAAS,QAAS,CAACwI,KAAUP,IAAclI,MACvDC,aAAY,WAAY,WAAY,CAACwI,KAAUP,IAAclI,KAAO,CAACjB,KAAM,aAC3EkB,aAAY,KAAM,aAAc,GAAID,KAAO,CAACjB,KAAM,YAAa,eAE/DU,GAAS,qBAAKC,UAAWgJ,KAAMC,iBAAtB,SAAyClJ,IAElDgI,GAAc,8BAAK,qBAAK1B,IAAK0B,MAC7BA,GAAcxH,aAAY,gBAAiB,UAAW,CAACwI,MAAWzI,KAAO,IAE1E,8BACE,mDAyCO+G,gBARS,SAAC9H,GACvB,MAAO,CACLqI,OAAQrI,EAAMgJ,KAAKX,OACnBG,WAAYxI,EAAMgJ,KAAKR,cAKa,CAAE7J,MFVrB,SAACC,EAAOC,EAAUC,EAAYC,GACjD,8CAAO,WAAOuF,GAAP,iBAAAG,EAAA,sEACgBhG,IAAQE,MAAMC,EAAOC,EAAUC,EAAYC,GAD3D,OAK2B,KAJ5B1B,EADC,QAKOC,KAAKoH,WAEfJ,EAASsE,OAEuB,KAA7BvL,EAASC,KAAKoH,YACfJ,EAASpF,MAGPS,EAAUtC,EAASC,KAAKqM,SAASC,OAAS,EAAIvM,EAASC,KAAKqM,SAAS,GAAK,aAC9ErF,EAASuF,aAAW,QAAS,CAACC,OAAQnK,MAdnC,2CAAP,wDESamI,EA3BD,SAACjH,GAMb,OAAIA,EAAMwH,OAAe,cAAC,IAAD,CAAUnG,GAAI,aAEhC,gCACL,uCACA,cAACiH,GAAD,CACEX,WAAY3H,EAAM2H,WAClBe,SAXa,SAACnL,GAChB2L,QAAQC,IAAI5L,GACZyC,EAAMlC,MAAMP,EAASQ,MAAOR,EAASS,SAAUT,EAASU,WAAYV,EAASW,UAU3EkL,aAAcpJ,EAAMoJ,qBClDpBC,GAAsB,iCAExB9K,GAAe,CACjB+K,aAAa,EACbC,YAAa,MA+BAC,GA5BI,WAAmC,IAAlCrK,EAAiC,uDAAzBZ,GAAca,EAAW,uCACnD,OAAQA,EAAOH,OAERoK,GACI,2BACFlK,GADL,IAEEmK,aAAa,IAIRnK,G,mBCnBTZ,GAAe,CACjBkL,YAAa,CACX,CAAC9M,GAAI,EAAG8B,KAAM,SAAUC,UAAW,oFACnC,CAAC/B,GAAI,EAAG8B,KAAM,OAAQC,UAAW,oOACjC,CAAC/B,GAAI,EAAG8B,KAAM,UAAWC,UAAW,mFASzBgL,GALQ,WAAmC,IAAlCvK,EAAiC,uDAAzBZ,GAE9B,OAAOY,G,oBCALwK,GAAWC,YAAgB,CAC7BC,YAAaC,KACbC,aAAc7K,KACd8K,QAASN,GACTvF,UAAWL,EACXqE,KAAMF,GACNgC,IAAKT,GACLhB,KAAM0B,OAGFC,GAAmBC,OAAOC,sCAAwCrD,IAClEsD,GAAQC,YAAYZ,GAAUQ,GAAiBK,YAAgBC,QAIrEL,OAAOM,UAAYJ,GAEJA,UCdAK,GATa,SAAC5D,GAM3B,OAL8B,SAAC/G,GAC7B,OACE,cAAC,WAAD,CAAU4K,SAAU,cAAC/D,GAAA,EAAD,IAApB,SAAkC,cAACE,EAAD,eAAe/G,QCWjD6K,GAAmB/D,IAAMgE,MAAK,kBAAM,iCACpCC,GAAmBjE,IAAMgE,MAAK,kBAAM,iCAEpCE,GAA+BL,GAAaE,IAE5CI,G,4MAEJC,wBAA0B,SAACC,EAAQC,GACjCC,MAAM,uB,uDAIR,WACE1E,KAAK3G,MAAMsL,mB,oBAQb,WACE,OAAK3E,KAAK3G,MAAMsJ,YAKd,sBAAK1J,UAAWsB,IAAEqK,YAAlB,UACE,cAAC,GAAD,IACA,cAAC,EAAD,IACA,qBAAK3L,UAAWsB,IAAEsK,oBAAlB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAAM,cAAC,IAAD,CAAUtK,GAAI,gBAClD,cAAC,IAAD,CAAOqK,KAAK,oBAAoBC,OAAQhB,GAAaI,MACrD,cAAC,IAAD,CAAOW,KAAK,WAAWC,OAAQ,kBAAM,cAACX,GAAD,OACrC,cAAC,IAAD,CAAOU,KAAK,QAAQpL,UAAWoB,IAC/B,cAAC,IAAD,CAAOgK,KAAK,SAASpL,UAAWqB,IAChC,cAAC,IAAD,CAAO+J,KAAK,YAAYpL,UAAWsB,IACnC,cAAC,IAAD,CAAO8J,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,OACnC,cAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,OACnC,cAAC,IAAD,CAAOD,KAAK,IAAIC,OAAQ,kBAAM,2DAjB7B,cAAC9E,GAAA,EAAD,Q,GAlBKC,IAAMC,WAiDpB6E,GAAe5E,YACjB6E,IACA5E,aARsB,SAAC9H,GACvB,MAAO,CACLmK,YAAanK,EAAM8K,IAAIX,eAMA,CAACgC,eJjDE,WAC5B,OAAO,SAAC7H,GACN,IAAIqI,EAAWrI,EAASsE,MAGxBgE,QAAQC,IAAI,CAACF,IACZvP,MAAK,WACJkH,EATmC,CAACxE,KAAMoK,YIiD7BrC,CAE2BiE,IAc/BgB,GAZI,SAACjM,GAClB,OAGE,aAFA,CAEC,IAAD,UACE,cAAC,IAAD,CAAUsK,MAAOA,GAAjB,SACI,cAACsB,GAAD,SC3EVM,IAASP,OACP,cAAC,GAAD,IACAQ,SAASC,eAAe,SAkB1B3L,K,yCC3Be,MAA0B,oC,OCS1BoG,IANC,SAAC7G,GACf,OACE,sBAAK4I,MAAO,CAACyD,gBAAiB,SAA9B,UAAwC,qBAAKpG,IAAKqG,IAAlD,e,gCCLJ,oEAAO,IAAM3D,EAAW,SAAA4D,GACtB,IAAIA,EACJ,MAAO,qBAGIlE,EAAmB,SAACmE,GAAD,OAAe,SAACD,GAC9C,GAAIA,GAASA,EAAMxD,OAASyD,EAAW,MAAM,iBAAN,OAAwBA,M,mBCLjE9Q,EAAOC,QAAU,CAAC,eAAe,mCAAmC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,yC,mBCA3KD,EAAOC,QAAU,CAAC,eAAiB,8BAA8B,UAAY,2B,mBCA7ED,EAAOC,QAAU,CAAC,UAAY,6BAA6B,aAAe,gCAAgC,aAAe,kC,mBCAzHD,EAAOC,QAAU,CAAC,YAAc,yBAAyB,oBAAsB,mC,mBCA/ED,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,2BAA2B,OAAS,yB,mJCG/F8Q,EAA6B,SAACtN,GAChC,MAAO,CACLqI,OAAQrI,EAAMgJ,KAAKX,SAIVJ,EAAmB,SAACL,GAAe,IACxC2F,EADuC,4JAE3C,WACE,OAAK/F,KAAK3G,MAAMwH,OAEd,cAACT,EAAD,eAAeJ,KAAK3G,QAFS,cAAC,IAAD,CAAUqB,GAAI,eAHJ,GACbyF,IAAMC,WAUtC,OADqCE,YAAQwF,EAARxF,CAAoCyF,IAI5DtF,O,uSCrBTuF,EAAW,0BACXC,EAAmB,kCACnBC,EAAa,iCACbC,EAAc,6BACdC,EAAqB,oCAEvBxO,EAAe,CACjByO,UAAW,CACT,CAACrQ,GAAI,EAAG8B,KAAM,QAAS8B,KAAM,UAAW0M,MAAO,EAAGhH,IAAK,yFACvD,CAACtJ,GAAI,EAAG8B,KAAM,QAAS8B,KAAM,UAAW0M,MAAO,GAAIhH,IAAK,4DACxD,CAACtJ,GAAI,EAAG8B,KAAM,QAAS8B,KAAM,UAAW0M,MAAO,EAAGhH,IAAK,mDAEzDtI,QAAS,KACTR,OAAQ,IAmDG+P,EAAuB,SAACC,GAAD,MAAkB,CAAClO,KAAM0N,EAAUQ,gBAE1DC,EAAY,SAACjQ,GAAD,MAAa,CAAC8B,KAAM4N,EAAY1P,WAI5CkQ,EAAiB,SAAClK,GAC7B,8CAAO,WAAOM,GAAP,eAAAG,EAAA,sEACY1H,IAAQa,WAAWoG,GAD/B,OACD1G,EADC,OAELgH,EARwC,CAACxE,KAAM2N,EAAkBjP,QAQzClB,IAFnB,2CAAP,uDAMWQ,EAAY,SAACkG,GACxB,8CAAO,WAAOM,GAAP,eAAAG,EAAA,sEACgB5G,IAAWC,UAAUkG,GADrC,OACD3G,EADC,OAELiH,EAAS2J,EAAU5Q,EAASC,OAFvB,2CAAP,uDAMWS,EAAe,SAACC,GAC3B,8CAAO,WAAOsG,GAAP,SAAAG,EAAA,sEACgB5G,IAAWE,aAAaC,GADxC,OAE4B,IAF5B,OAEQV,KAAKoH,YAChBJ,EAAS2J,EAAUjQ,IAHhB,2CAAP,uDAQWE,EAAY,SAACiQ,GACxB,8CAAO,WAAO7J,GAAP,eAAAG,EAAA,sEACgB5G,IAAWK,UAAUiQ,GADrC,OAE4B,KAD7B9Q,EADC,QAEQC,KAAKoH,YAChBJ,GA7B2ByC,EA6BD1J,EAASC,KAAKA,KAAKyJ,OA7BN,CAACjH,KAAM8N,EAAoB7G,YA0B/D,iCA1BuB,IAACA,IA0BxB,OAAP,uDAQWxI,EAAc,SAACC,GAC1B,8CAAO,WAAO8F,EAAU8J,GAAjB,mBAAA3J,EAAA,6DACCT,EAASoK,IAAWpF,KAAKxL,GAD1B,SAEkBK,IAAWU,YAAYC,GAFzC,UAG4B,KAD3BnB,EAFD,QAGQC,KAAKoH,WAHb,gBAIHJ,EAAS4J,EAAelK,IAJrB,8BAMCrE,EAAUtC,EAASC,KAAKqM,SAASC,OAAS,EAAIvM,EAASC,KAAKqM,SAAS,GAAK,aAC9ErF,EAASuF,YAAW,cAAe,CAACC,OAAQnK,KAPzC,kBAQIiN,QAAQyB,OAAO1O,IARnB,4CAAP,yDAaagL,IApGQ,WAAmC,IAAlC3K,EAAiC,uDAAzBZ,EAAca,EAAW,uCAEvD,OAAQA,EAAOH,MAEb,KAAK0N,EAEH,OAAO,2BACFxN,GADL,IAEE6N,UAAU,GAAD,mBAAM7N,EAAM6N,WAAZ,CAAuB,CAC9BrQ,GAAI,EACJ8B,KAAM,MACN8B,KAAMnB,EAAO+N,YACbF,MAAO,EACPhH,IAAK,6DAIX,KAAK6G,EAEH,OAAO,2BACF3N,GADL,IAEE6N,UAAW7N,EAAM6N,UAAU/I,QAAO,SAAAyB,GAAC,OAAIA,EAAE/I,KAAOyC,EAAOqO,YAG3D,KAAKV,EAEH,OAAO,2BACF5N,GADL,IAEExB,QAAQ,2BAAKwB,EAAMxB,SAAZ,IAAqBuI,OAAQ9G,EAAO8G,WAG/C,KAAK0G,EACH,OAAO,2BACFzN,GADL,IAEExB,QAASyB,EAAOzB,UAGpB,KAAKkP,EACH,OAAO,2BACF1N,GADL,IAEEhC,OAAQiC,EAAOjC,SAGnB,QACE,OAAOgC,M","file":"static/js/main.e198077e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/defaultAvatar.a6143582.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"itemFriends\":\"Navbar_itemFriends__10Dxv\",\"link\":\"Navbar_link__TNvz9\",\"active\":\"Navbar_active__3mbhk\"};","import axios from \"axios\";\n\nconst instance = axios.create({\n\n  withCredentials: true,\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  headers: {\n    \"API-KEY\": \"78db3ef8-b9d0-41d5-9ed1-ce31346be1e0\"\n  }\n\n})\n\nexport const userAPI = {\n\n  getUsers(currentPage = 1,pageSize = 10) {\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n    .then(response => response.data)\n  },\n\n  unfollow(id) {\n    return instance.delete(`follow/${id}`)\n  },\n\n  follow(id) {\n    return instance.post(`follow/${id}`)\n  },\n\n  getProfile(id) {\n    return profileAPI.getProfile(id)\n  }\n}\n\nexport const profileAPI = {\n  \n  getProfile(id) {\n    return instance.get(`profile/${id}`)\n    .then(response => response.data)\n  },\n\n  getStatus(id) {\n    return instance.get(`profile/status/${id}`)\n  },\n\n  updateStatus(status) {\n    return instance.put(`profile/status`, {status: status})\n  },\n\n  savePhoto(photoFile) {\n    const formData = new FormData();\n    formData.append(\"image\", photoFile)\n    return instance.put('profile/photo', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  },\n\n  saveProfile(profile) {\n    return instance.put('profile', profile)\n  },\n}\n\nexport const authAPI = {\n  \n  me() {\n    return instance.get('auth/me')\n    .then(response => response.data)\n  },\n\n  login(email, password, rememberMe = false, captcha = null) {\n    return instance.post('auth/login', {\n      email,\n      password,\n      rememberMe,\n      captcha\n    })\n  },\n\n  logout() {\n    return instance.delete('auth/login')\n  },\n\n}\n\nexport const securityAPI = {\n\n  getCaptchaUrl() {\n    return instance.get('security/get-captcha-url');\n  }\n\n}","const SEND_MESSAGE = 'dialogsReducer/SEND-MESSAGE';\n\nlet initialState = {\n  dialogsData: [\n    {id: 1, name: 'Jordan', avatarSrc: 'https://biografii.net/wp-content/uploads/2018/09/2YF1WyzQjyLS_maikl-dzhordan.jpg'},\n    {id: 2, name: 'Cury', avatarSrc: 'https://www.gannett-cdn.com/-mm-/3cc04d2ef14fa91700469abb79ac5856f7d99ffa/c=0-119-2025-1263/local/-/media/2016/03/14/USATODAY/USATODAY/635935568094311208-USATSI-8611213.jpg?width=660&height=373&fit=crop&format=pjpg&auto=webp'},\n    {id: 3, name: 'Chester', avatarSrc: 'https://www.vokrug.tv/pic/person/d/3/0/1/d301933ae0b63ca71848e5025b6be224.jpg'},\n    {id: 4, name: 'Moby', avatarSrc: 'https://img.discogs.com/h2gOyyLcsRAUu06CGpU4zHWL_nI=/fit-in/300x300/filters:strip_icc():format(jpeg):mode_rgb():quality(40)/discogs-images/A-1031-1500201712-1208.jpeg.jpg'},\n    {id: 5, name: 'Fred', avatarSrc: 'https://pbs.twimg.com/profile_images/1271530504827875331/3Ka8BTK6.jpg'},\n  ],\n  messagesData: [\n    {id: 1, author: \"me\", likesCount: 5, message: 'Hi'},\n    {id: 2, author: \"friend\", likesCount: 12, message: 'Hello'},\n    {id: 3, author: \"me\", likesCount: 4, message: 'Whatsup?'},\n    {id: 4, author: \"friend\", likesCount: 41, message: 'Fine'},\n    {id: 5, author: \"me\", likesCount: 0, message: 'Ok'},\n  ],\n}\n\nconst dialogsReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n   \n    case SEND_MESSAGE: \n\n      return {\n        ...state,\n        messagesData: [...state.messagesData, {\n          id: 5,\n          author: 'me',\n          likesCount: 0,\n          message: action.newMessageBody\n        }]\n      }\n     \n    default:\n      return state;\n  }\n}\n\nexport const sendMessageActionCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\n\nexport default dialogsReducer;","import React from \"react\";\nimport {Field} from \"redux-form\";\nimport styles from './FormsControl.module.css';\n\n\nconst FormControl = ({input, meta, children, ...props}) => {\n  \n  const hasError = meta.touched && meta.error;\n\n  return (\n    <div className={styles.formControl + ' ' + (hasError ? styles.error : \"\")}>\n      <div>\n        {children}\n      </div>\n      {hasError && <span>{meta.error}</span>} \n    </div>\n  )\n}\n\nexport const Textarea = (props) => {\n  const {input, meta, children, ...restProps} = props;\n  return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\n}\n\nexport const Input = (props) => {\n  const {input, meta, children, ...restProps} = props;\n  return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\n}\n\n// export const Textarea = (props) => {\n//   return <FormControl {...props} Formtype=\"textarea\"></FormControl>\n// }\n\n// export const Input = (props) => {\n//   return <FormControl {...props} Formtype=\"input\"></FormControl>\n// }\n\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => {\n  return (\n    <div>\n      <Field placeholder={placeholder} \n              name={name}\n              component={component} \n              validate={validators}\n              {...props}\n      />{text}\n    </div>\n  )\n} ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport {NavLink} from \"react-router-dom\";\n// import FriendsTop from \"./FriendsTop/FriendsTop\";\nimport s from './Navbar.module.css';\n\nconst Navbar = () => {\n  return (\n    <nav className={s.nav}> \n      <div className={`${s.item}`}>\n        <NavLink to=\"/profile\" className={s.link} activeClassName={s.active}>Profile</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/dialogs\" className={s.link} activeClassName={s.active}>Messages</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/news\" className={s.link} activeClassName={s.active}>News</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/music\" className={s.link} activeClassName={s.active}>Music</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/settings\" className={s.link} activeClassName={s.active}>Settings</NavLink>\n      </div>\n      <div className={s.item + ' ' + s.itemFriends}>\n        <NavLink to=\"/friends\" className={s.link} activeClassName={s.active}>Friends</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/users\" className={s.link} activeClassName={s.active}>Users</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/login\" className={s.link} activeClassName={s.active}>Login</NavLink>\n      </div>\n      {/* <FriendsTop \n        // store={props.store}\n        friendsData={store.getState().sideBar.friendsData}\n      /> */}\n    </nav>\n  )\n}\n\nexport default Navbar;","import React from \"react\";\n\nconst News = (props) => {\n  return (\n    <div>\n      News\n    </div>\n  )\n}\n\nexport default News","import React from \"react\";\nimport s from './Music.module.css'\n\nconst Music = (props) => {\n  return (\n    <div>\n      Music\n    </div>\n  )\n}\n\nexport default Music","import React from \"react\";\nimport s from './Settings.module.css'\n\nconst Settings = (props) => {\n  return (\n    <div>\n      Settings\n    </div>\n  )\n}\n\nexport default Settings","export let updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n  return items.map((u) => {\n    if (u[objPropName] === itemId) {\n      return {...u, ...newObjProps}\n    }\n    return u;\n  })\n}","import { userAPI } from \"../api/api\";\nimport { updateObjectInArray } from '../utils/object-helpers'\n\nconst FOLLOW = 'usersReducer/FOLLOW';\nconst UNFOLLOW = 'usersReducer/UNFOLLOW';\nconst SET_USERS = 'usersReducer/SET_USERS';\nconst SET_CURRENT_PAGE = 'usersReducer/SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'usersReducer/SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'usersReducer/TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'usersReducer/TOGGLE_IS_FOLLOWING_PROGRESS';\nconst SET_PORTION_OF_PAGES_NUMBER = 'usersReducer/SET_PORTION_OF_PAGES_NUMBER';\n\nlet initialState = {\n  users: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 3,\n  isFetching: true,\n  followingProgress: [],\n  portionOfPagesNumber: 1,\n  fake: 10\n}\n\nconst usersReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\n        // users: state.users.map((u) => {\n        //   if(u.id === action.userId) {\n        //     return {...u, followed: true}\n        //   }\n        //   return u;\n        // })\n      }\n\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\n        // users: state.users.map((u) => {\n        //   if(u.id === action.userId) {\n        //     return {...u, followed: false}\n        //   }\n        //   return u;\n        // })\n      }\n\n    case SET_USERS:\n      return {...state,users: [...action.users]}\n\n    case SET_CURRENT_PAGE:\n      return {...state, currentPage: action.currentPage}\n\n    case SET_PORTION_OF_PAGES_NUMBER:\n      return {...state, portionOfPagesNumber: action.portionNumber}\n\n    case SET_TOTAL_USERS_COUNT:\n      return {...state, totalUsersCount: action.totalUsersCount}\n\n    case TOGGLE_IS_FETCHING:\n      return {...state, isFetching: action.isFetching}\n\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\n      return {\n        ...state, \n        followingProgress: action.isFetching \n        ? [...state.followingProgress, action.userId]\n        : state.followingProgress.filter(id => id != action.userId)\n      }\n\n    default: \n      return state;\n  }\n \n}\n\nexport const followSucces = (userId) => ({type: FOLLOW, userId})\nexport const unfollowSucces = (userId) => ({type: UNFOLLOW, userId})\nexport const setUsers = (users) => ({type: SET_USERS, users})\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setPortionOfPagesNumber = (portionNumber) => ({type: SET_PORTION_OF_PAGES_NUMBER, portionNumber})\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount})\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\n\nexport const requestUsers = (currentPage, pageSize) => {\n  return async (dispatch) => {\n    dispatch(setIsFetching(true));\n    let data = await userAPI.getUsers(currentPage, pageSize)\n    dispatch(setIsFetching(false));\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n    dispatch(setCurrentPage(currentPage)); // ?\n  }\n}\n\nconst followUnfollowFlow = async(dispatch, userId, apiMethod, actionCreator) => {\n  dispatch(toggleFollowingProgress(true, userId)) // дисэйблим кнопку\n\n  let response = await apiMethod(userId)\n\n  if (response.data.resultCode === 0) {\n    dispatch(actionCreator(userId))\n  }\n\n  dispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const unfollow = (userId) => {\n  return async (dispatch) => {\n    followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSucces)\n  }\n}\n\nexport const follow = (userId) => {\n  return async (dispatch) => {\n    followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSucces)\n  }\n}\n\n\n\n\n\nexport default usersReducer;","import { createSelector } from \"reselect\"\n\n// export const getUsers = (state) => {\n//   return state.usersPage.users.filter(u => true);\n// }\n\n//выше getUsers для демонстрации перересовки всего при каждом изменении в стейте\n\nexport const getUsersSelector = (state) => {\n  return state.usersPage.users;\n}\n\nexport const getUsers = createSelector(getUsersSelector, (users) => {\n  return users.filter(u => true)\n})\n\nexport const getPageSize = (state) => {\n  return state.usersPage.pageSize\n}\nexport const getTotalUsersCount = (state) => {\n  return state.usersPage.totalUsersCount\n}\nexport const getCurrentPage = (state) => {\n  return state.usersPage.currentPage\n}\nexport const getPortionOfPagesNumber = (state) => {\n  return state.usersPage.portionOfPagesNumber\n}\nexport const getIsFetching = (state) => {\n  return state.usersPage.isFetching\n}\nexport const getFollowingProgress = (state) => {\n  return state.usersPage.followingProgress\n}","import React from \"react\";\nimport {useState} from \"react\";\nimport styles from './Paginator.module.css';\n\nlet Paginator = (props) => {\n  let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i)\n  }\n\n  let portionCount = Math.ceil(pagesCount / props.portionSize);\n  let [portionNumber, setPortionNumber] = useState(props.portionOfPagesNumber);\n  let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\n  let rightPortionPageNumber = portionNumber * props.portionSize;\n\n  let onPageChanged = (p) => {\n    props.onPageChanged(p)\n    props.setPortionOfPagesNumber(portionNumber)\n  }\n\n  return (  \n    <div className={styles.paginator}>\n      { portionNumber > 1 &&\n       <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>}\n      \n      {pages.filter(p => p >= leftPortionPageNumber && p<= rightPortionPageNumber).map(p => <span \n      className={`${styles.pagesNumbers} ${props.currentPage === p && styles.selectedPage}`}\n      key={p}\n      onClick={() => onPageChanged(p)}>\n        {p}\n      </span>)}\n      { portionCount > portionNumber &&\n       <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>}\n\n    </div>  \n  )\n}\n\nexport default Paginator;","import React from \"react\";\nimport styles from './Users.module.css';\nimport userPhoto from '../../../src/assets/images/defaultAvatar.png';\nimport {NavLink} from \"react-router-dom\";\n\nlet User = ({user, followingProgress, unfollow, follow}) => {\n\n  return (\n    <div>\n      <span>\n        <div>\n          <NavLink to={`/profile/${user.id}`}>\n            <img src={user.photos.small !== null ? user.photos.small : userPhoto} className={styles.userPhoto}/>\n          </NavLink>\n        </div>\n        <div>\n          {user.followed \n            ? <button \n              disabled={followingProgress.some(id => id === user.id)}\n              onClick={ () => {\n                unfollow(user.id)\n            } }>Unfollow</button> \n            : <button \n              disabled={followingProgress.some(id => id === user.id)}\n              onClick={ () => {\n                follow(user.id)\n              } }>Follow</button>}\n        </div>\n      </span>\n      <span>\n        <span>\n          <div>{user.name}</div>\n          <div>{user.status}</div>\n        </span>\n        <span>\n          <div>{\"user.location.country\"}</div>\n          <div>{\"user.location.city\"}</div>\n        </span>\n      </span>\n    </div>\n  )\n}\n\nexport default User;","import React from \"react\";\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\n\nlet Users = ({totalUsersCount, pageSize, currentPage, onPageChanged, ...props}) => {\n\n  return (\n    <div>\n      <Paginator totalItemsCount={totalUsersCount}\n                 pageSize={pageSize}\n                 currentPage={currentPage}\n                 onPageChanged={onPageChanged}\n                 portionSize={10}\n                 portionOfPagesNumber={props.portionOfPagesNumber}\n                 setPortionOfPagesNumber={props.setPortionOfPagesNumber}\n      />\n      {props.users.map((user) => <User key={user.id} \n                                       user={user} \n                                       followingProgress={props.followingProgress}\n                                       unfollow={props.unfollow} \n                                       follow={props.follow}\n                                  />)}\n    </div>\n  )\n}\n\nexport default Users;","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport styles from \"./Users.module.css\"\nimport { \n  setCurrentPage,\n  setPortionOfPagesNumber, \n  toggleFollowingProgress,\n  requestUsers,\n  unfollow,\n  follow,\n} from \"../../redux/usersReducer\";\nimport {\n  getUsers,\n  getPageSize,\n  getTotalUsersCount,\n  getCurrentPage,\n  getPortionOfPagesNumber,\n  getIsFetching,\n  getFollowingProgress\n} from '../../redux/usersSelector'\nimport Preloader from \"../common/Preloader/Preloader\";\nimport Users from \"./Users\";\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\n\n\nclass UsersContainer extends React.Component {\n\n  componentDidMount() {\n    const {currentPage, pageSize} = this.props\n    this.props.requestUsers(currentPage, pageSize)\n  }\n\n  onPageChanged = (pageNumber) => {\n    const {pageSize} = this.props;\n    this.props.requestUsers(pageNumber, pageSize);\n    this.props.setCurrentPage(pageNumber); //?\n  }\n  \n  render() {\n    return (\n      <div className={styles.usersContainer}>{\n        this.props.isFetching ? <Preloader/> : null }\n        <Users onPageChanged={this.onPageChanged}\n        totalUsersCount={this.props.totalUsersCount}\n        pageSize={this.props.pageSize}\n        currentPage={this.props.currentPage}\n        portionOfPagesNumber={this.props.portionOfPagesNumber}\n        setPortionOfPagesNumber={this.props.setPortionOfPagesNumber}\n        users={this.props.users}\n        followingProgress={this.props.followingProgress}\n        toggleFollowingProgress={this.props.toggleFollowingProgress}\n        unfollow={this.props.unfollow}\n        follow={this.props.follow} \n        />\n      </div>\n    )\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    users: getUsers(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getCurrentPage(state),\n    portionOfPagesNumber: getPortionOfPagesNumber(state),\n    isFetching: getIsFetching(state),\n    followingProgress: getFollowingProgress(state),\n  }\n}\n\n// let mapDispatchToProps = (dispatch) => {\n//   return {\n//     follow: (userId) => {\n//       dispatch(followAC(userId))\n//     },\n//     unfollow: (userId) => {\n//       dispatch(unfollowAC(userId))\n//     },\n//     setUsers: (users) => {\n//       dispatch(setUsersAC(users))\n//     },\n//     setCurrentPage: (currentPage) => {\n//       dispatch(setCurrentPageAC(currentPage))\n//     },\n//     setTotalUsersCount: (totalUsersCount) => {\n//       dispatch(setTotalUsersCountAC(totalUsersCount))\n//     },\n//     toggleIsFetching: (isFetching) => {\n//       dispatch(setIsFetchingAC(isFetching))\n//     }\n//   }\n// }\n\nexport default compose(\n  connect(mapStateToProps, \n    {\n      setCurrentPage,\n      setPortionOfPagesNumber,\n      toggleFollowingProgress,\n      requestUsers,\n      unfollow,\n      follow,\n    }),\n  withAuthRedirect\n)(UsersContainer)","import React from \"react\";\nimport {NavLink} from \"react-router-dom\";\nimport s from './Header.module.css'\n\nconst Header = (props) => {\n  return (\n    <header className={s.header}>\n        <img src='https://pbs.twimg.com/profile_images/1063925348205821958/DlGcxdOl.jpg'/>\n\n        <div className={s.loginBlock}>\n\n          { props.isAuth ? \n            <div>\n              {props.login}\n              <button onClick={props.logout}>Logout</button>\n            </div>  \n            : <NavLink to={'/login'}>Login</NavLink>}\n          \n        </div>\n\n    </header>\n  )\n}\n\nexport default Header;","import {stopSubmit} from 'redux-form';\nimport {authAPI, securityAPI} from '../api/api'\n\nconst SET_USER_DATA = 'authReducer/SET_USER_DATA';\nconst TOGGLE_IS_FETCHING = 'authReducer/TOGGLE_IS_FETCHING';\nconst GET_CAPTCHA_URL_SUCCESS = 'authReducer/GET_CAPTCHA_URL_SUCCESS';\n// const SET_ERROR_MESSAGE = 'authReducer/SET_ERROR_MESSAGE';\n\nlet initialState = {\n  id: null,\n  email: null,\n  login: null,\n  isFetching: false,\n  isAuth: false,\n  captchaUrl: null,\n  // errorMessage: null\n  // profile: null\n}\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n\n    case GET_CAPTCHA_URL_SUCCESS:\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.payload,\n        // isAuth: true,\n      }\n\n    // case SET_ERROR_MESSAGE:\n    //   return {\n    //     ...state,\n    //     errorMessage: action.errorMessage,\n    //     // isAuth: true,\n    //   }\n      \n    default: \n      return state;\n  }\n}\n\nexport const setUserData = (id, email, login, isAuth) => ({type: SET_USER_DATA, payload: {id, email, login, isAuth}});\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}});\n// export const setErrorMessage = (errorMessage) => ({type: SET_ERROR_MESSAGE, errorMessage})\n\nexport const getAuthUserData = () => {\n   return async (dispatch) => {\n    let data = await authAPI.me()\n      \n    if (data.resultCode === 0) {\n      dispatch(setUserData(data.data.id, data.data.email, data.data.login, true))\n    }\n  }\n}\nexport const login = (email, password, rememberMe, captcha) => {\n  return async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe, captcha)\n    // if(response.data.resultCode === 1) {\n    //   dispatch(setErrorMessage(response.data.messages[0]))\n    // }\n    if(response.data.resultCode === 0) {\n      // dispatch(setErrorMessage(null))\n      dispatch(getAuthUserData())\n    } else {\n      if(response.data.resultCode === 10) {\n        dispatch(getCaptchaUrl())\n      }\n\n      let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n      dispatch(stopSubmit(\"login\", {_error: message}));\n      \n    } \n  }\n}\nexport const logout = () => {\n  return async (dispatch) => {\n    let response = await authAPI.logout()\n    if(response.data.resultCode === 0) {\n      dispatch(setUserData(null, null, null, false))\n    }\n  }\n}\n\nexport const getCaptchaUrl = () => {\n  return async (dispatch) => {\n    const response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url;\n\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\n  }\n}\n\nexport default authReducer;","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport Header from './Header';\nimport {logout} from '../../redux/authReducer';\n\nclass HeaderContainer extends React.Component {\n\n  render() {\n    return (\n      <Header {...this.props} profile={this.props.profile}/>\n    )\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    id: state.auth.id,\n    email: state.auth.email,\n    login: state.auth.login,\n    isAuth: state.auth.isAuth,\n  }\n}\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\nimport {reduxForm} from 'redux-form';\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\nimport {login, getCaptchaUrl} from \"../../redux/authReducer\"\nimport {connect} from \"react-redux\";\nimport {Redirect} from \"react-router\";\nimport style from '../common/FormsControls/FormsControl.module.css'\n\nconst maxLength30 = maxLengthCreator(30)\n\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {createField(\"Email\", \"email\", [required, maxLength30], Input)}\n      {createField(\"Password\", \"password\", [required, maxLength30], Input, {type: \"password\"})}\n      {createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"remember me\")}\n\n      {error && <div className={style.formSummaryError}>{error}</div>}\n\n      {captchaUrl && <div><img src={captchaUrl}/></div>}\n      {captchaUrl && createField(\"enter letters\", \"captcha\", [required], Input, {})}\n\n      <div>\n        <button>Login</button>\n      </div>\n    </form>\n  )\n}\n\nconst LoginReduxForm = reduxForm({\n  // a unique name for the form\n  form: 'login'\n})(LoginForm)\n\n\n\n\nconst Login = (props) => {\n  const onSubmit = (formData) => {\n    console.log(formData);\n    props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\n  }\n\n  if (props.isAuth) return <Redirect to={\"/profile\"}/>\n\n  return <div>\n    <h1>Login</h1>\n    <LoginReduxForm \n      captchaUrl={props.captchaUrl} \n      onSubmit={onSubmit} \n      errorMessage={props.errorMessage}\n    />\n    \n  </div>\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuth: state.auth.isAuth,\n    captchaUrl: state.auth.captchaUrl,\n    // errorMessage: state.auth.errorMessage\n  }\n}\n\nexport default connect(mapStateToProps, { login })(Login);","import {getAuthUserData} from './authReducer';\n\nconst INITIALIZED_SUCCESS = 'appReducer/INITIALIZED_SUCCESS';\n\nlet initialState = {\n  initialized: false,\n  globalError: null\n}\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      }\n      \n    default: \n      return state;\n  }\n}\n\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\n\nexport const initializedApp = () => {\n  return (dispatch) => {\n    let propmise = dispatch(getAuthUserData());\n    // let promise2 = dispatch(somethingElse())\n    // let promise3 = dispatch(somethingElse())\n    Promise.all([propmise])\n    .then(() => {\n      dispatch(initializedSuccess())\n    });\n  }\n}\n\nexport default appReducer;","let initialState = {\n  friendsData: [\n    {id: 1, name: 'Jordan', avatarSrc: 'https://biografii.net/wp-content/uploads/2018/09/2YF1WyzQjyLS_maikl-dzhordan.jpg'},\n    {id: 2, name: 'Cury', avatarSrc: 'https://www.gannett-cdn.com/-mm-/3cc04d2ef14fa91700469abb79ac5856f7d99ffa/c=0-119-2025-1263/local/-/media/2016/03/14/USATODAY/USATODAY/635935568094311208-USATSI-8611213.jpg?width=660&height=373&fit=crop&format=pjpg&auto=webp'},\n    {id: 3, name: 'Chester', avatarSrc: 'https://www.vokrug.tv/pic/person/d/3/0/1/d301933ae0b63ca71848e5025b6be224.jpg'},\n  ]\n}\n\nconst sidebarReducer = (state = initialState, action) => {\n  \n  return state;\n}\n\nexport default sidebarReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\nimport dialogsReducer from \"./dialogsReducer\";\nimport profileReducer from \"./profileReducer\";\nimport sidebarReducer from \"./sidebarReducer\";\nimport usersReducer from \"./usersReducer\";\nimport authReducer from \"./authReducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from \"./appReducer\";\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  messagesPage: dialogsReducer,\n  sideBar: sidebarReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  app: appReducer,\n  form: formReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\nwindow.__store__ = store;\n\nexport default store;","import React from \"react\";\nimport {Suspense} from \"react\";\nimport Preloader from \"../components/common/Preloader/Preloader\";\n\nexport const withSuspense = (Component) => {\n  const ComponentWithSuspense = (props) => {\n    return(\n      <Suspense fallback={<Preloader/>}><Component {...props}/></Suspense>\n    )\n  }\n  return ComponentWithSuspense;\n}\n\nexport default withSuspense;","import React from 'react';\nimport Navbar from './components/Navbar/Navbar';\nimport s from './App.module.css'\nimport {Redirect, Route, Switch, withRouter} from 'react-router';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport LoginPage from './components/Login/Login';\nimport {initializedApp} from './redux/appReducer'\nimport {connect, Provider} from 'react-redux';\nimport {compose} from 'redux';\nimport Preloader from './components/common/Preloader/Preloader';\nimport {HashRouter} from 'react-router-dom';\nimport store from './redux/reduxStore';\nimport withSuspense from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\nconst DialogsContainerWithSusoense = withSuspense(DialogsContainer);\n\nclass App extends React.Component {\n\n  catchAllUnhandledErrors = (reason, promise) => {\n    alert(\"Some error occured\");\n    // console.error(promiseRejectionEvent)\n  }\n\n  componentDidMount() {\n    this.props.initializedApp();\n    // window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n  }\n\n  // componentWillUnmount() {\n  //   window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n  // }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n\n    return (\n      <div className={s.app_wrapper}>\n        <HeaderContainer />\n        <Navbar />\n        <div className={s.app_wrapper_content}>\n          <Switch>\n            <Route exact path=\"/\" render={() => <Redirect to={\"/profile\"} />} />\n            <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)} />\n            <Route path=\"/dialogs\" render={() => <DialogsContainerWithSusoense/>} />\n            <Route path=\"/news\" component={News} />\n            <Route path=\"/music\" component={Music} />\n            <Route path=\"/settings\" component={Settings} />\n            <Route path=\"/users\" render={() => <UsersContainer/>} />\n            <Route path=\"/login\" render={() => <LoginPage/>} />\n            <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized\n  }\n}\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializedApp}))(App);\n\nlet SamuraiJSApp = (props) => {\n  return (\n    //использую HashRouter вместо BrowserRouter, чтобы работал деплой на gitHub\n    // basename={process.env.PUBLIC_URL}\n    <HashRouter>\n      <Provider store={store}>\n          <AppContainer />\n      </Provider>\n    </HashRouter>\n  )\n}\n\nexport default SamuraiJSApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\nimport SamuraiJSApp from './App';\n\n\nReactDOM.render(\n  <SamuraiJSApp/>,\n  document.getElementById('root')\n);\n\n// так было, когда использовали самодельный стор вместо редакса\n// let rerenderEntireTree = (state) => {\n//   ReactDOM.render(\n//     <SamuraiJSApp/>,\n//     document.getElementById('root')\n//   );\n// }\n\n// rerenderEntireTree(store.getState());\n\n// store.subscribe(() => {\n//   rerenderEntireTree(store.getState());\n// });\n// store.subscribe(rerenderEntireTree);\n\nreportWebVitals();","export default __webpack_public_path__ + \"static/media/loading.dbb22bcf.gif\";","import React from 'react';\nimport preloader from '../../../../src/assets/images/loading.gif';\n\nlet Preloader = (props) => {\n  return (\n    <div style={{backgroundColor: 'white'}}><img src={preloader}/>loading</div>\n  )\n}\n\nexport default Preloader;","export const required = value => {\n  if (value) return undefined\n  return \"Field is required\"\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n  if (value && value.length > maxLength) return `Max length is ${maxLength}`\n  return undefined\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-control\":\"FormsControl_form-control__2RdUF\",\"formControl\":\"FormsControl_formControl__WE9ql\",\"error\":\"FormsControl_error__eY5EU\",\"formSummaryError\":\"FormsControl_formSummaryError__3Uy6X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersContainer\":\"Users_usersContainer__1OedU\",\"userPhoto\":\"Users_userPhoto__17MJB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__18P4_\",\"pagesNumbers\":\"Paginator_pagesNumbers__1e7QM\",\"selectedPage\":\"Paginator_selectedPage__3SIki\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_wrapper\":\"App_app_wrapper__5i7wO\",\"app_wrapper_content\":\"App_app_wrapper_content__2AoW5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\",\"avatar\":\"Header_avatar__2DnQ9\"};","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {Redirect} from \"react-router\";\n\nlet mapStateToPropsForRedirect = (state) => {\n  return {\n    isAuth: state.auth.isAuth\n  }\n}\n\nexport const withAuthRedirect = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) return <Redirect to={\"/login\"}/>\n      return (\n        <Component {...this.props}/>\n      )\n    }\n  }\n\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n  return ConnectedAuthRedirectComponent;\n}\n\nexport default withAuthRedirect;","import {stopSubmit} from 'redux-form';\nimport {profileAPI, userAPI} from '../api/api'\n\nconst ADD_POST = 'profileReducer/ADD-POST';\nconst SET_USER_PROFILE = 'profileReducer/SET_USER_PROFILE';\nconst SET_STATUS = 'profileReducer/SET_USER_STATUS';\nconst DELETE_POST = 'profileReducer/DELETE_POST';\nconst SAVE_PHOTO_SUCCESS = 'profileReducer/SAVE_PHOTO_SUCCESS';\n\nlet initialState = {\n  postsData: [\n    {id: 1, name: 'Roma1', text: 'blabla1', likes: 4, src: 'https://trashbox.ru/ifiles/220798_004e6a_img_20140503_122504.jpg_min1/avatarki.-1.jpg'},\n    {id: 2, name: 'Roma2', text: 'blabla2', likes: 34, src: 'https://klike.net/uploads/posts/2019-03/1551511801_1.jpg'},\n    {id: 3, name: 'Roma3', text: 'blabla3', likes: 2, src: 'https://download-cs.net/steam/avatars/3408.jpg'},\n  ],\n  profile: null,\n  status: ''\n}\n\nconst profileReducer = (state = initialState, action) => {\n\n  switch (action.type) {\n      \n    case ADD_POST: \n\n      return {\n        ...state,\n        postsData: [...state.postsData, {\n          id: 4,\n          name: 'New',\n          text: action.newPostText,\n          likes: 0,\n          src: 'http://cs622426.vk.me/v622426834/409d/baLqspYwi84.jpg'\n        }]\n      }\n\n    case DELETE_POST: \n\n      return {\n        ...state,\n        postsData: state.postsData.filter(p => p.id !== action.postId)\n      }\n\n    case SAVE_PHOTO_SUCCESS: \n\n      return {\n        ...state,\n        profile: {...state.profile, photos: action.photos}\n      }\n\n    case SET_USER_PROFILE: \n      return {\n        ...state,\n        profile: action.profile\n      }\n\n    case SET_STATUS: \n      return {\n        ...state,\n        status: action.status\n      }\n    \n    default: \n      return state;\n  }\n}\n\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\nexport const setStatus = (status) => ({type: SET_STATUS, status})\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\n\nexport const getUserProfile = (userId) => {\n  return async (dispatch) => {\n    let data = await userAPI.getProfile(userId)\n    dispatch(setUserProfile(data))\n  }\n}\n\nexport const getStatus = (userId) => {\n  return async (dispatch) => {\n    let response = await profileAPI.getStatus(userId)\n    dispatch(setStatus(response.data)) \n  }\n}\n\nexport const updateStatus = (status) => {\n  return async (dispatch) => { \n    let response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n      dispatch(setStatus(status))\n    }\n  }\n}\n\nexport const savePhoto = (file) => {\n  return async (dispatch) => {\n    let response = await profileAPI.savePhoto(file)\n    if (response.data.resultCode === 0) {\n      dispatch(savePhotoSuccess(response.data.data.photos))\n    }\n  }\n}\n\nexport const saveProfile = (profile) => {\n  return async (dispatch, getState) => {\n    const userId = getState().auth.id;\n    const response = await profileAPI.saveProfile(profile)\n    if (response.data.resultCode === 0) {\n      dispatch(getUserProfile(userId))\n    } else {\n      let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\n      dispatch(stopSubmit(\"editProfile\", {_error: message}));\n      return Promise.reject(message);\n    }\n  }\n}\n\nexport default profileReducer;"],"sourceRoot":""}